<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Johann Huber">
<meta name="dcterms.date" content="2023-01-21">

<title>lukanguyen - 3 Cáº¥p Ä‘á»™ hiá»ƒu vá» Batch Normalization (BÃ i dá»‹ch)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-listing/list.min.js"></script>
<script src="../site_libs/quarto-listing/quarto-listing.js"></script>
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script>

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-listing .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: [{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
      
      searchColumns: [],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-listing'] = new List('listing-listing', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  </script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../profile.jpg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">lukanguyen</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../articles.html" aria-current="page">
 <span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../projects.html">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">About me</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/lukanguyen277"><i class="bi bi-github" role="img" aria-label="Github">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/nqhoang2077"><i class="bi bi-twitter" role="img" aria-label="Twitter">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/luka-nguyen-b9586a236/"><i class="bi bi-linkedin" role="img" aria-label="LinkedIn">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.facebook.com/lukanguyentech/"><i class="bi bi-facebook" role="img" aria-label="Facebook">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://medium.com/@lukanguyen"><i class="bi bi-medium" role="img" aria-label="Medium">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">3 Cáº¥p Ä‘á»™ hiá»ƒu vá» Batch Normalization (BÃ i dá»‹ch)</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title d-none d-lg-block">3 Cáº¥p Ä‘á»™ hiá»ƒu vá» Batch Normalization (BÃ i dá»‹ch)</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">translate</div>
                <div class="quarto-category">cnn</div>
                <div class="quarto-category">batch norm</div>
                <div class="quarto-category">vietnamese</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Johann Huber </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 21, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../about.html" class="sidebar-item-text sidebar-link">About me</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles.html" class="sidebar-item-text sidebar-link">Articles</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../projects.html" class="sidebar-item-text sidebar-link">Projects</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Articles</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../articles/translate-batch-normalization-in-3-levels-of-understanding.html" class="sidebar-item-text sidebar-link active">3 Cáº¥p Ä‘á»™ hiá»ƒu vá» Batch Normalization (BÃ i dá»‹ch)</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Projects</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../projects/steel-nylon-classifier.html" class="sidebar-item-text sidebar-link">Simple MLP model for Guitar Steel vs Nylon strings classification</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../projects/vietnamese-lyrics-classifier.html" class="sidebar-item-text sidebar-link">Vietnamese Lyrics Classification</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#báº¯t-Ä‘áº§u" id="toc-báº¯t-Ä‘áº§u" class="nav-link active" data-scroll-target="#báº¯t-Ä‘áº§u"><span class="toc-section-number">1</span>  Báº¯t Ä‘áº§u</a></li>
  <li><a href="#tá»•ng-quan" id="toc-tá»•ng-quan" class="nav-link" data-scroll-target="#tá»•ng-quan"><span class="toc-section-number">2</span>  Tá»•ng quan</a>
  <ul class="collapse">
  <li><a href="#cÃ¡ch-hiá»ƒu-trong-30-giÃ¢y" id="toc-cÃ¡ch-hiá»ƒu-trong-30-giÃ¢y" class="nav-link" data-scroll-target="#cÃ¡ch-hiá»ƒu-trong-30-giÃ¢y"><span class="toc-section-number">2.1</span>  CÃ¡ch hiá»ƒu trong 30 giÃ¢y</a></li>
  <li><a href="#cÃ¡ch-hiá»ƒu-trong-3-phÃºt" id="toc-cÃ¡ch-hiá»ƒu-trong-3-phÃºt" class="nav-link" data-scroll-target="#cÃ¡ch-hiá»ƒu-trong-3-phÃºt"><span class="toc-section-number">2.2</span>  CÃ¡ch hiá»ƒu trong 3 phÃºt</a>
  <ul class="collapse">
  <li><a href="#training" id="toc-training" class="nav-link" data-scroll-target="#training"><span class="toc-section-number">2.2.1</span>  Training</a></li>
  <li><a href="#Ä‘Ã¡nh-giÃ¡" id="toc-Ä‘Ã¡nh-giÃ¡" class="nav-link" data-scroll-target="#Ä‘Ã¡nh-giÃ¡"><span class="toc-section-number">2.2.2</span>  ÄÃ¡nh giÃ¡</a></li>
  <li><a href="#thá»±c-táº¿" id="toc-thá»±c-táº¿" class="nav-link" data-scroll-target="#thá»±c-táº¿"><span class="toc-section-number">2.2.3</span>  Thá»±c táº¿</a></li>
  <li><a href="#tá»•ng-quan-káº¿t-quáº£" id="toc-tá»•ng-quan-káº¿t-quáº£" class="nav-link" data-scroll-target="#tá»•ng-quan-káº¿t-quáº£"><span class="toc-section-number">2.2.4</span>  Tá»•ng quan káº¿t quáº£</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#hiá»ƒu-vá»-batch-normalization" id="toc-hiá»ƒu-vá»-batch-normalization" class="nav-link" data-scroll-target="#hiá»ƒu-vá»-batch-normalization"><span class="toc-section-number">3</span>  Hiá»ƒu vá» Batch Normalization</a>
  <ul class="collapse">
  <li><a href="#triá»ƒn-khai" id="toc-triá»ƒn-khai" class="nav-link" data-scroll-target="#triá»ƒn-khai"><span class="toc-section-number">3.1</span>  Triá»ƒn khai</a>
  <ul class="collapse">
  <li><a href="#cÃ¡c-lá»›p-bn-trong-thá»±c-táº¿" id="toc-cÃ¡c-lá»›p-bn-trong-thá»±c-táº¿" class="nav-link" data-scroll-target="#cÃ¡c-lá»›p-bn-trong-thá»±c-táº¿"><span class="toc-section-number">3.1.1</span>  CÃ¡c lá»›p BN trong thá»±c táº¿</a></li>
  <li><a href="#káº¿t-quáº£-tá»«-bÃ i-bÃ¡o-gá»‘c" id="toc-káº¿t-quáº£-tá»«-bÃ i-bÃ¡o-gá»‘c" class="nav-link" data-scroll-target="#káº¿t-quáº£-tá»«-bÃ i-bÃ¡o-gá»‘c"><span class="toc-section-number">3.1.2</span>  Káº¿t quáº£ tá»« bÃ i bÃ¡o gá»‘c</a></li>
  <li><a href="#tÃ¡c-dá»¥ng-phá»¥-cá»§a-bn-regularization" id="toc-tÃ¡c-dá»¥ng-phá»¥-cá»§a-bn-regularization" class="nav-link" data-scroll-target="#tÃ¡c-dá»¥ng-phá»¥-cá»§a-bn-regularization"><span class="toc-section-number">3.1.3</span>  TÃ¡c dá»¥ng phá»¥ cá»§a BN: Regularization</a></li>
  <li><a href="#chuáº©n-hoÃ¡-khi-Ä‘Ã¡nh-giÃ¡" id="toc-chuáº©n-hoÃ¡-khi-Ä‘Ã¡nh-giÃ¡" class="nav-link" data-scroll-target="#chuáº©n-hoÃ¡-khi-Ä‘Ã¡nh-giÃ¡"><span class="toc-section-number">3.1.4</span>  Chuáº©n hoÃ¡ khi Ä‘Ã¡nh giÃ¡</a></li>
  <li><a href="#tÃ­nh-á»•n-Ä‘á»‹nh-cá»§a-bn-layer" id="toc-tÃ­nh-á»•n-Ä‘á»‹nh-cá»§a-bn-layer" class="nav-link" data-scroll-target="#tÃ­nh-á»•n-Ä‘á»‹nh-cá»§a-bn-layer"><span class="toc-section-number">3.1.5</span>  TÃ­nh á»•n Ä‘á»‹nh cá»§a BN layer</a></li>
  <li><a href="#recurrent-network-vÃ -layer-normalization" id="toc-recurrent-network-vÃ -layer-normalization" class="nav-link" data-scroll-target="#recurrent-network-vÃ -layer-normalization"><span class="toc-section-number">3.1.6</span>  Recurrent Network vÃ  Layer Normalization</a></li>
  <li><a href="#trÆ°á»›c-hay-sau-phi-tuyáº¿n-tÃ­nh" id="toc-trÆ°á»›c-hay-sau-phi-tuyáº¿n-tÃ­nh" class="nav-link" data-scroll-target="#trÆ°á»›c-hay-sau-phi-tuyáº¿n-tÃ­nh"><span class="toc-section-number">3.1.7</span>  TrÆ°á»›c hay sau phi tuyáº¿n tÃ­nh?</a></li>
  </ul></li>
  <li><a href="#táº¡i-sao-bn-láº¡i-hiá»‡u-quáº£" id="toc-táº¡i-sao-bn-láº¡i-hiá»‡u-quáº£" class="nav-link" data-scroll-target="#táº¡i-sao-bn-láº¡i-hiá»‡u-quáº£"><span class="toc-section-number">3.2</span>  Táº¡i sao BN láº¡i hiá»‡u quáº£?</a>
  <ul class="collapse">
  <li><a href="#giáº£-thiáº¿t-1-bn-giáº£m-internal-covariate-shift" id="toc-giáº£-thiáº¿t-1-bn-giáº£m-internal-covariate-shift" class="nav-link" data-scroll-target="#giáº£-thiáº¿t-1-bn-giáº£m-internal-covariate-shift"><span class="toc-section-number">3.2.1</span>  Giáº£ thiáº¿t 1: BN giáº£m internal covariate shift</a></li>
  <li><a href="#giáº£-thiáº¿t---bn-giáº£m-sá»±-phá»¥-thuá»™c-láº«n-nhau-trong-cÃ¡c-lá»›p-áº©n-khi-huáº¥n-luyá»‡n." id="toc-giáº£-thiáº¿t---bn-giáº£m-sá»±-phá»¥-thuá»™c-láº«n-nhau-trong-cÃ¡c-lá»›p-áº©n-khi-huáº¥n-luyá»‡n." class="nav-link" data-scroll-target="#giáº£-thiáº¿t---bn-giáº£m-sá»±-phá»¥-thuá»™c-láº«n-nhau-trong-cÃ¡c-lá»›p-áº©n-khi-huáº¥n-luyá»‡n."><span class="toc-section-number">3.2.2</span>  Giáº£ thiáº¿t - BN giáº£m sá»± phá»¥ thuá»™c láº«n nhau trong cÃ¡c lá»›p áº©n khi huáº¥n luyá»‡n.</a></li>
  <li><a href="#giáº£-thuyáº¿t-3---bn-lÃ m-cho-khÃ´ng-gian-tá»‘i-Æ°u-hÃ³a-trá»Ÿ-nÃªn-mÆ°á»£t-hÆ¡n" id="toc-giáº£-thuyáº¿t-3---bn-lÃ m-cho-khÃ´ng-gian-tá»‘i-Æ°u-hÃ³a-trá»Ÿ-nÃªn-mÆ°á»£t-hÆ¡n" class="nav-link" data-scroll-target="#giáº£-thuyáº¿t-3---bn-lÃ m-cho-khÃ´ng-gian-tá»‘i-Æ°u-hÃ³a-trá»Ÿ-nÃªn-mÆ°á»£t-hÆ¡n"><span class="toc-section-number">3.2.3</span>  Giáº£ thuyáº¿t 3 - BN lÃ m cho khÃ´ng gian tá»‘i Æ°u hÃ³a trá»Ÿ nÃªn mÆ°á»£t hÆ¡n</a></li>
  <li><a href="#gá»‰a-thiáº¿t-3" id="toc-gá»‰a-thiáº¿t-3" class="nav-link" data-scroll-target="#gá»‰a-thiáº¿t-3"><span class="toc-section-number">3.2.4</span>  Gá»‰a thiáº¿t 3</a></li>
  </ul></li>
  <li><a href="#tá»•ng-há»£p-nhá»¯ng-lÃ½-do-cho-sá»±-hiá»‡u-quáº£-cá»§a-bn-mÃ -chÃºng-ta-biáº¿t" id="toc-tá»•ng-há»£p-nhá»¯ng-lÃ½-do-cho-sá»±-hiá»‡u-quáº£-cá»§a-bn-mÃ -chÃºng-ta-biáº¿t" class="nav-link" data-scroll-target="#tá»•ng-há»£p-nhá»¯ng-lÃ½-do-cho-sá»±-hiá»‡u-quáº£-cá»§a-bn-mÃ -chÃºng-ta-biáº¿t"><span class="toc-section-number">3.3</span>  Tá»•ng há»£p: Nhá»¯ng lÃ½ do cho sá»± hiá»‡u quáº£ cá»§a BN mÃ  chÃºng ta biáº¿t</a></li>
  </ul></li>
  <li><a href="#káº¿t-luáº­n" id="toc-káº¿t-luáº­n" class="nav-link" data-scroll-target="#káº¿t-luáº­n"><span class="toc-section-number">4</span>  Káº¿t luáº­n</a>
  <ul class="collapse">
  <li><a href="#cÃ¢u-há»i-má»Ÿ" id="toc-cÃ¢u-há»i-má»Ÿ" class="nav-link" data-scroll-target="#cÃ¢u-há»i-má»Ÿ"><span class="toc-section-number">4.1</span>  CÃ¢u há»i má»Ÿ</a></li>
  </ul></li>
  <li><a href="#tÃ i-liá»‡u-tham-kháº£o" id="toc-tÃ i-liá»‡u-tham-kháº£o" class="nav-link" data-scroll-target="#tÃ i-liá»‡u-tham-kháº£o"><span class="toc-section-number">5</span>  TÃ i liá»‡u tham kháº£o</a></li>
  <li><a href="#hÆ¡n-ná»¯a" id="toc-hÆ¡n-ná»¯a" class="nav-link" data-scroll-target="#hÆ¡n-ná»¯a"><span class="toc-section-number">6</span>  HÆ¡n ná»¯a</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Trong series bÃ i dá»‹ch nÃ y, mÃ¬nh sÆ°u táº§m nhá»¯ng bÃ i trÃªn nguá»“n nhÆ° Medium vÃ  dá»‹ch láº¡i vá»›i má»¥c Ä‘Ã­ch:</p>
<ul>
<li><p>Báº£n thÃ¢n: dá»‹ch tá»©c lÃ  pháº£i Ä‘á»c ká»¹, giÃºp mÃ¬nh hiá»ƒu váº¥n Ä‘á» theo nhiá»u cÃ¡ch khÃ¡c nhau.</p></li>
<li><p>Cá»™ng Ä‘á»“ng: há»— trá»£ cÃ¡c báº¡n khÃ´ng cÃ³ tÃ i khoáº£n medium hoáº·c ngáº¡i Ä‘á»c tiáº¿ng Anh cÃ³ thá»ƒ tiáº¿p cáº­n Ä‘Æ°á»£c kiáº¿n thá»©c.</p></li>
</ul>
<p>TÃ¬m Ä‘á»c bÃ i gá»‘c á»Ÿ <a href="https://towardsdatascience.com/batch-normalization-in-3-levels-of-understanding-14c2da90a338">Ä‘Ã¢y</a></p>
<blockquote class="blockquote">
<p>LÆ°u Ã½: CÃ³ má»™t sá»‘ thuáº­t ngá»¯ mÃ¬nh giá»¯ nguyÃªn báº£n tiáº¿ng Anh vÃ¬ báº£n tiáº¿ng Viá»‡t dá»‹ch khÃ¡ khan hiáº¿m vÃ  khÃ³ hiá»ƒu, Ä‘á»ƒ tiáº¿ng Anh sáº½ dá»… hiá»ƒu vÃ  dá»… google hÆ¡n.</p>
</blockquote>
<section id="báº¯t-Ä‘áº§u" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Báº¯t Ä‘áº§u</h1>
<p>TrÃªn internet, Ä‘Ã£ cÃ³ ráº¥t nhiá»u ná»™i dung vá» BatchNorm (BN). Tuy nhiÃªn, nhiá»u trong sá»‘ Ä‘Ã³ cÃ³ cÃ¡ch hiá»ƒu hÆ¡i lá»—i thá»i vá» BN. Trong bÃ i viáº¿t nÃ y, tÃ¡c giáº£ quy vá» má»™t má»‘i nhá»¯ng thÃ´ng tin phÃ¢n máº£nh láº¡i Ä‘á»ƒ xÃ¢y dá»±ng má»™t cÃ¡ch hiá»ƒu tá»‘t hÆ¡n vá» phÆ°Æ¡ng phÃ¡p cÄƒn báº£n nÃ y (BN), bao gá»“m cÃ¡c pháº§n:</p>
<ul>
<li><p><strong>CÃ¡ch hiá»ƒu má»›i nháº¥t</strong> vá» BN quÃ¡ <strong>3 cáº¥p Ä‘á»™ hiá»ƒu</strong>: 30 giÃ¢y, 3 phÃºt, vÃ  hiá»ƒu sÃ¢u.</p></li>
<li><p>CÃ¡c <strong>thÃ nh pháº§n cá»‘t lÃµi</strong> Ä‘á»ƒ táº­n dá»¥ng tá»‘i Ä‘a BN.</p></li>
<li><p><strong>Má»™t cÃ¡ch triá»ƒn khai Ä‘Æ¡n giáº£n</strong> cá»§a BN trÃªn Google Colab báº±ng cÃ¡ch tÃ¡i táº¡o láº¡i thÃ­ nghiá»‡m dá»±a trÃªn MNIST trong bÃ i bÃ¡o khoa há»c gá»‘c -&gt; <a href="https://github.com/Johann-Huber/batchnorm_pytorch/blob/main/batch_normalization_in_pytorch.ipynb">Click Here</a></p></li>
<li><p><strong>Nhá»¯ng lÃ½ do mÃ  ngÆ°á»i Ä‘á»c hay hiá»ƒu sai vá» BN</strong> (dÃ¹ ráº±ng tá»«ng Ä‘á»c bÃ i tá»« nhiá»u tÃ¡c giáº£ cháº¥t lÆ°á»£ng)</p></li>
</ul>
<p>OK! Báº¯t Ä‘áº§u nÃ o.</p>
</section>
<section id="tá»•ng-quan" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Tá»•ng quan</h1>
<section id="cÃ¡ch-hiá»ƒu-trong-30-giÃ¢y" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="cÃ¡ch-hiá»ƒu-trong-30-giÃ¢y"><span class="header-section-number">2.1</span> CÃ¡ch hiá»ƒu trong 30 giÃ¢y</h2>
<p><strong>Batch-Normalization</strong> (BN) lÃ  phÆ°Æ¡ng phÃ¡p khiáº¿n cho viá»‡c huáº¥n luyá»‡n máº¡ng nÆ¡ rÃ´ng sÃ¢u (Deep Nearon Network, DNN) <strong>nhanh vÃ  á»•n Ä‘á»‹nh hÆ¡n.</strong></p>
<p>NÃ³ bao gá»“m <strong>chuáº©n hoÃ¡ cÃ¡c vectors cá»§a lá»›p áº©n</strong> (hidden layers) sá»­ dá»¥ng trung bÃ¬nh vÃ  phÆ°Æ¡ng sai (mean vÃ  variance) cá»§a batch hiá»‡n táº¡i. BÆ°á»›c chuáº©n hoÃ¡ cÃ³ thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng ngay trÆ°á»›c hoáº·c ngay sau má»™t hÃ m phi tuyáº¿n tÃ­nh.</p>
<p align="center">
<img src="batchnorm/batchnorm_1_tcvRJN-OadhUyps6HSO0og.webp" width="500px">
</p>
<p align="center">
Multilayer Perceptron (MLP) khÃ´ng batch normalization (BN) | Nguá»“n : author - Design : <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<p align="center">
<img src="batchnorm/batchnorm_1_QcSkw489NgtpaMuwDhehaQ.webp" width="500px">
</p>
<p align="center">
Multilayer Perceptron (MLP) cÃ³ batch normalization (BN) | Nguá»“n : author - Design : <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<p>Táº¥t cáº£ cÃ¡c ná»n táº£ng há»c sÃ¢u Ä‘á»u Ä‘Ã£ há»— trá»£ Batch Normalization. ThÆ°á»ng báº¡n sáº½ sá»­ dá»¥ng BN nhÆ° má»™t lá»›p trong máº¡ng DNN.</p>
<p>Vá»›i nhá»¯ng ai thÃ­ch Ä‘á»c code hÆ¡n chá»¯ thÃ¬ tÃ¡c giáº£ cÃ³ triá»ƒn khai BN dáº¡ng Jupyter Notebook <a href="https://github.com/Johann-Huber/batchnorm_pytorch/blob/main/batch_normalization_in_pytorch.ipynb">á»Ÿ Ä‘Ã¢y</a>.</p>
</section>
<section id="cÃ¡ch-hiá»ƒu-trong-3-phÃºt" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="cÃ¡ch-hiá»ƒu-trong-3-phÃºt"><span class="header-section-number">2.2</span> CÃ¡ch hiá»ƒu trong 3 phÃºt</h2>
<p>CÃ¡ch tÃ­nh toÃ¡n BN lÃ  khÃ¡c nhau cho traing vs testing.</p>
<section id="training" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="training"><span class="header-section-number">2.2.1</span> Training</h3>
<p>Vá»›i má»—i lá»›p áº©n (hidden layer), BN chuyá»ƒn Ä‘á»•i tÃ­n hiá»‡u nhÆ° sau:</p>
<p align="center">
<img src="batchnorm/batchnorm_transform.png" width="600px">
</p>
<p>Lá»›p BN Ä‘áº§u tiÃªn xÃ¡c Ä‘á»‹nh <strong>trung bÃ¬nh ğœ‡</strong> vÃ  <strong>phÆ°Æ¡ng sai ÏƒÂ²</strong> cá»§a cÃ¡c kÃ­ch hoáº¡t (activation) trong batch, sá»­ dá»¥ng cÃ´ng thá»©c (1) vÃ  (2). Tiáº¿p theo, nÃ³ <strong>chuáº©n hoÃ¡ vector kÃ­ch hoáº¡t <span class="math inline">\(Z^{(i)}\)</span></strong> vá»›i cÃ´ng thá»©c (3). Tháº¿ lÃ , táº¥t cáº£ cÃ¡c output Ä‘á»u Ä‘Æ°á»£c tuÃ¢n theo phÃ¢n phá»‘i chuáº©n trong batch Ä‘Ã³. (ğœ€ lÃ  má»™t háº±ng sá»‘ giÃºp duy trÃ¬ <a href="https://en.wikipedia.org/wiki/Numerical_stability">numerical stablity</a>)</p>
<p align="center">
<img src="batchnorm/batchnorm_1_TrjyZmHj_wInh6kFARuLZw.webp" width="600px">
</p>
<p align="center">
BÆ°á»›c Ä‘áº§u cá»§a Batch Norm. VÃ­ dá»¥ má»™t hidden layer vá»›i 3 neurons, kÃ­ch cá»¡ batch lÃ  b. Má»—i neuron sau Ä‘Ã³ Ä‘á»u tuÃ¢n theo phÃ¢n phá»‘i chuáº©n | Nguá»“n : author - Design : <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<p>á» bÆ°á»›c cuá»‘i, BN tÃ­nh output áº(i) báº±ng cÃ¡ch Ã¡p dá»¥ng má»™t biáº¿n Ä‘á»•i tuyá»ƒn tÃ­nh (linear transformation) vá»›i hai tham sá»‘ huáº¥n luyá»‡n lÃ  ğ›¾ vÃ  ğ›½ (4). BÆ°á»›c nÃ y cho phÃ©p mÃ´ hÃ¬nh chá»n Ä‘Æ°á»£c phÃ¢n phá»‘i tá»‘i Æ°u cho tá»«ng lá»›p áº©n khi thay Ä‘á»•i hai tham sá»‘:</p>
<ul>
<li><p>ğ›¾ giÃºp Ä‘iá»u chá»‰nh phÆ°Æ¡ng sai phÃ¢n phá»‘i</p></li>
<li><p>ğ›½ giÃºp Ä‘iá»u chá»‰nh bias, dá»‹ch chuyá»ƒn phÃ¢n phá»‘i sang trÃ¡i hay pháº£i</p></li>
</ul>
<p align="center">
<img src="batchnorm/1_zEkSLa9rpfEmINn5DmJbOA.webp" width="600px">
</p>
<p align="center">
Lá»£i Ã­ch cá»§a tham sá»‘ ğ›¾ vÃ  ğ›½: Thay Ä‘á»•i phÃ¢n phá»‘i (hÃ¬nh trÃªn) giÃºp chÃºng ta sá»­ dá»¥ng cÃ¡c hÃ¬nh thÃ¡i khÃ¡c nhau cá»§a hÃ m phi tuyáº¿n tÃ­nh (hÃ¬nh dÆ°á»›i) | Nguá»“n : author - Design : <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<blockquote class="blockquote">
<p>LÆ°u Ã½: Nhá»¯ng lÃ½ do giáº£i thÃ­ch cho sá»± hiá»‡u quáº£ cá»§a BN cÃ³ thá»ƒ bá»‹ hiá»ƒu sai hoáº·c máº¯c lá»—i (ngay cáº£ trong bÃ i bÃ¡o gá»‘c). Má»™t bÃ i bÃ¡o gáº§n Ä‘Ã¢y [2] phá»§ Ä‘á»‹nh vÃ i giáº£ thiáº¿t sai vÃ  giÃºp cá»™ng Ä‘á»“ng hiá»ƒu tá»‘t hÆ¡n vá» BN. ChÃºng ta sáº½ nÃ³i rÃµ hÆ¡n trong pháº§n â€œTáº¡i sao BN hiá»‡u quáº£?â€</p>
</blockquote>
<p>Vá»›i má»—i láº§n láº·p, network sáº½ tÃ­nh toÃ¡n <strong>trung bÃ¬nh ğœ‡</strong> vÃ  <strong>phÆ°Æ¡ng sai ÏƒÂ²</strong> cho batch hiá»‡n táº¡i. Sau Ä‘Ã³ nÃ³ huáº¥n luyá»‡n ğ›¾ vÃ  ğ›½ báº±ng gradient descent, sá»­ dá»¥ng ÄÆ°á»ng trung bÃ¬nh Ä‘á»™ng hÃ m mÅ© (Exponential Moving Average/EMA) giÃºp Æ°u tiÃªn hÆ¡n cho nhá»¯ng iterations gáº§n nháº¥t.</p>
</section>
<section id="Ä‘Ã¡nh-giÃ¡" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="Ä‘Ã¡nh-giÃ¡"><span class="header-section-number">2.2.2</span> ÄÃ¡nh giÃ¡</h3>
<p>KhÃ¡c vá»›i khi huáº¥n luyá»‡n, chÃºng ta cÃ³ thá»ƒ <strong>khÃ´ng cÃ³ batch Ä‘áº§y Ä‘á»§ Ä‘á»ƒ Ä‘Æ°a vÃ o mÃ´ hÃ¬nh.</strong></p>
<p>Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, chÃºng ta tÃ­nh (ğœ‡_pop , Ïƒ_pop) vá»›i:</p>
<ul>
<li><p>ğœ‡_pop : Æ°á»›c lÆ°á»£ng giÃ¡ trá»‹ trung bÃ¬nh cho toÃ n bá»™ quáº§n thá»ƒ (population) Ä‘Æ°á»£c nghiÃªn cá»©u</p></li>
<li><p>Ïƒ_pop : Æ°á»›c lÆ°á»£ng giÃ¡ trá»‹ Ä‘á»™ lá»‡ch chuáº©n cho toÃ n bá»™ quáº§n thá»ƒ (population) Ä‘Æ°á»£c nghiÃªn cá»©u</p></li>
</ul>
<p>Hai giÃ¡ trá»‹ nÃ y Ä‘Æ°á»£c tÃ­nh toÃ¡n sá»­ dá»¥ng cÃ¡c giÃ¡ trá»‹ (ğœ‡_batch ,&nbsp;Ïƒ_batch) Ä‘Æ°á»£c tÃ­nh trong quÃ¡ trÃ¬nh huáº¥n luyá»‡n, vÃ  input tháº³ng vÃ o cÃ´ng thá»©c (3) á»Ÿ trÃªn, bá» qua bÆ°á»›c (1) vÃ  (2)</p>
<blockquote class="blockquote">
<p>LÆ°u Ã½: ChÃºng ta sáº½ tÃ¬m hiá»ƒu ká»¹ hÆ¡n váº¥n Ä‘á» nÃ y á»Ÿ pháº§n â€œChuáº©n hoÃ¡ khi Ä‘Ã¡nh giÃ¡â€</p>
</blockquote>
</section>
<section id="thá»±c-táº¿" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="thá»±c-táº¿"><span class="header-section-number">2.2.3</span> Thá»±c táº¿</h3>
<p>Trong thá»±c táº¿, chÃºng ta xem BN nhÆ° má»™t lá»›p bÃ¬nh thÆ°á»ng, nhÆ° lÃ  má»™t perceptron, convultional layer, hay má»™t hÃ m kÃ­ch hoáº¡t hoáº·c má»™t lá»›p dropout.</p>
<p>CÃ¡c ná»n táº£ng thÃ´ng dá»¥ng cÅ©ng Ä‘Ã£ triá»ƒn khai BN nhÆ° má»™t layer. VÃ­ dá»¥:</p>
<ul>
<li><p>Pytorch: torch.nn.BatchNorm1d, torch.nn.BatchNorm2d, torch.nn.BatchNorm3d</p></li>
<li><p>Tensorflow / Keras: tf.nn.batch_normalization, tf.keras.layers.BatchNormalization</p></li>
</ul>
<p>Táº¥t cáº£ cÃ¡c cÃ¡ch triá»ƒn khai cá»§a BN Ä‘á»u cho phÃ©p báº¡n cáº¥u hÃ¬nh tham sá»‘ má»™t cÃ¡ch Ä‘á»™c láº­p. Tuy nhiÃªn, <strong>kÃ­ch cá»¡ cá»§a vector Ä‘áº§u vÃ o lÃ  quan tá»ng nháº¥t.</strong> NÃ³ nÃªn Ä‘Æ°á»£c thiáº¿t láº­p báº±ng:</p>
<ul>
<li><p>Sá»‘ nÆ¡-ron cá»§a lá»›p áº©n hiá»‡n táº¡i (cho MLP)</p></li>
<li><p>Sá»‘ filters cá»§a lá»›p áº©n hiá»‡n táº¡i (cho CNN)</p></li>
</ul>
<p>HÃ£y Ä‘á»c tÃ i liá»‡u vá» ná»n táº£ng yÃªu thÃ­ch cá»§a báº¡n vá» BN Ä‘á»ƒ biáº¿t chi tiáº¿t hÆ¡n vá» cÃ¡ch sá»­ dá»¥ng vÃ  triá»ƒn khai.</p>
</section>
<section id="tá»•ng-quan-káº¿t-quáº£" class="level3" data-number="2.2.4">
<h3 data-number="2.2.4" class="anchored" data-anchor-id="tá»•ng-quan-káº¿t-quáº£"><span class="header-section-number">2.2.4</span> Tá»•ng quan káº¿t quáº£</h3>
<p>Ká»ƒ cáº£ khi chÃºng ta chÆ°a hiá»ƒu táº¥t cáº£ cáº¥u táº¡o cá»§a Batch Normalization, cÃ³ má»™t thá»© mÃ  ai cÅ©ng pháº£i cÃ´ng nháº­n: <strong>NÃ³ ráº¥t hiá»‡u quáº£!</strong></p>
<p>Äá»ƒ hiá»ƒu thÃªm, hÃ£y xem káº¿t quáº£ cá»§a bÃ i bÃ¡o gá»‘c [1]:</p>
<p align="center">
<img src="batchnorm/1_gfzbC-GrOoVUfk1yU4DdfQ.webp" width="600px">
</p>
<p align="center">
áº¢nh 1: Hiá»‡u quáº£ cá»§a BN. Äá»™ chÃ­nh xÃ¡c trÃªn táº­p Ä‘Ã¡nh giÃ¡ cá»§a ImageNet(2012) theo sá»‘ láº§n huáº¥n luyá»‡n. NÄƒm networks Ä‘Æ°á»£c so sÃ¡nh: â€œInceptionâ€ lÃ  network Inception gá»‘c [3], â€œBN-Xâ€ lÃ  Inception network thÃªm BN (vá»›i 3 learning rates: x1, x5, x30 láº§n Inception tá»‘i Æ°u), â€œBN-X-Sigmoidâ€ lÃ  Inception network thÃªm BN, nhÆ°ng thay ReLU báº±ng Sigmoid
</p>
<p>Káº¿t quáº£ ráº¥t rÃµ rÃ ng: CÃ¡c lá»›p BN <strong>tÄƒng tá»‘c quÃ¡ trÃ¬nh luáº¥n luyá»‡n, há»— trá»£ tá»‘t nhiá»u giÃ¡ trá»‹ learning rate</strong> nhÆ°ng láº¡i khÃ´ng hi sinh kháº£ nÄƒng há»™i tá»¥ cá»§a mÃ´ hÃ¬nh.</p>
<blockquote class="blockquote">
<p>LÆ°u Ã½: Äá»c Ä‘áº¿n Ä‘Ã¢y lÃ  Ä‘á»§ cho báº¡n Ä‘á»ƒ á»©ng dá»¥ng BN rá»“i. Tuy nhiÃªn, Ä‘á»ƒ táº­n dá»¥ng tá»‘i Ä‘a Ä‘Æ°á»£c BN thÃ¬ chÃºng ta cáº§n Ä‘Ã o sÃ¢u hÆ¡n ná»¯a.</p>
</blockquote>
<p align="center">
<img src="batchnorm/1_7tK-KHAf4ai7S-kXuZw0PQ.webp" width="600px">
</p>
<p align="center">
Batch Normalization liÃªn quan gÃ¬ Ä‘áº¿n hÃ¬nh áº£nh nÃ y nhá»‰? | Nguá»“n : author - Design : <a href="https://unsplash.com/@daniloalvesd?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Danilo Alvesd</a>
</p>
</section>
</section>
</section>
<section id="hiá»ƒu-vá»-batch-normalization" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Hiá»ƒu vá» Batch Normalization</h1>
<section id="triá»ƒn-khai" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="triá»ƒn-khai"><span class="header-section-number">3.1</span> Triá»ƒn khai</h2>
<p>TÃ¡c giáº£ Ä‘Ã£ triá»ƒn khai cÃ¡c lá»›p BN báº±ng Pytorch Ä‘á»ƒ tÃ¡i táº¡o káº¿t quáº£ tá»« bÃ i bÃ¡o gá»‘c. MÃ£ nguá»“n á»Ÿ trÃªn <a href="https://github.com/Johann-Huber/batchnorm_pytorch/blob/main/batch_normalization_in_pytorch.ipynb">repo nÃ y</a></p>
<p>CÃ¡c báº¡n cÅ©ng nÃªn tham tháº£o thÃªm cÃ¡c cÃ¡ch triá»ƒn khai BN khÃ¡c nhau, nÃ³ sáº½ ráº¥t cÃ³ Ã­ch khi báº¡n tháº¥y Ä‘Æ°á»£c cÃ¡ch cÃ¡c ná»n táº£ng DL láº­p trÃ¬nh BN nhÆ° tháº¿ nÃ o.</p>
<section id="cÃ¡c-lá»›p-bn-trong-thá»±c-táº¿" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="cÃ¡c-lá»›p-bn-trong-thá»±c-táº¿"><span class="header-section-number">3.1.1</span> CÃ¡c lá»›p BN trong thá»±c táº¿</h3>
<p>TrÆ°á»›c khi Ä‘i vÃ o lÃ½ thuyáº¿t, chÃºng ta sáº½ tÃ³m láº¡i vÃ i Ä‘iá»u vá» BN:</p>
<ul>
<li><p>BN áº£nh hÆ°á»Ÿng tháº¿ nÃ o Ä‘áº¿n <strong>hiá»‡u nÄƒng huáº¥n luyá»‡n</strong>? Táº¡i sao BN láº¡i quan trá»ng nhÆ° váº­y trong Deep Learning?</p></li>
<li><p>BN cÃ³ nhá»¯ng <strong>tÃ¡c dá»¥ng phá»¥</strong> nÃ o mÃ  chÃºng ta cáº§n lÆ°u tÃ¢m?</p></li>
<li><p><strong>Khi nÃ o</strong> cáº§n dÃ¹ng BN vÃ  dÃ¹ng <strong>nhÆ° tháº¿ nÃ o</strong>?</p></li>
</ul>
</section>
<section id="káº¿t-quáº£-tá»«-bÃ i-bÃ¡o-gá»‘c" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="káº¿t-quáº£-tá»«-bÃ i-bÃ¡o-gá»‘c"><span class="header-section-number">3.1.2</span> Káº¿t quáº£ tá»« bÃ i bÃ¡o gá»‘c</h3>
<p>NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, BN Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i vÃ¬ háº§u nhÆ° lÃºc nÃ o nÃ³ <strong>cÅ©ng cáº£i thiá»‡n hiá»‡u nÄƒng cá»§a cÃ¡c mÃ´ hÃ¬nh há»c sÃ¢u.</strong></p>
<p>BÃ i bÃ¡o gá»‘c thá»±c hiá»‡n 3 thÃ­ nghiá»‡m Ä‘á»ƒ minh hoáº¡ tháº¥y ráº±ng phÆ°Æ¡ng phÃ¡p cá»§a há» hiá»‡u quáº£ tháº¿ nÃ o.</p>
<p>Äáº§u tiÃªn, há» hÃ¢uns luyá»‡n má»™t mÃ´ hÃ¬nh phÃ¢n loáº¡i trÃªn tá»‡p dá»¯ liá»‡u MNIST (chá»¯ sá»‘ viáº¿t tay). MÃ´ hÃ¬nh cÃ³ 3 lá»›p fully-connected, má»—i lá»›p gá»“m 100 nÆ¡ ron, cÃ¹ng vá»›i kÃ­ch hoáº¡t sigmoid. Há» huáº¥n luyá»‡n mÃ´ hÃ¬nh nÃ y 2 láº§n (cÃ³ / khÃ´ng thÃªm BN) trong 50,000 láº§n láº·p vá»›i SGG, vÃ  learning rate nhÆ° nhau (0.01). Táº¥t cáº£ cÃ¡c lá»›p BN Ä‘á»u Ä‘áº·t ngay sau hÃ m kÃ­ch hoáº¡t.</p>
<p>Báº¡n cÃ³ thá»ƒ dá»… dÃ ng tÃ¡i táº¡o káº¿t quáº£ nÃ y mÃ  khÃ´ng cáº§n GPU, Ä‘Ã¢y lÃ  má»™t cÃ¡ch tuyá»‡t vá»i Ä‘á»ƒ lÃ m quen vá»›i khÃ¡i niá»‡m nÃ y.</p>
<p align="center">
<img src="batchnorm/1_eQjN8WPOkLYx15536hD2xg.webp" width="600px">
</p>
<p align="center">
HÃ¬nh 2: áº¢nh hÆ°á»Ÿng cá»§a BN lÃªn quÃ¡ trÃ¬nh huáº¥n luyá»‡n máº¡ng MLP Ä‘Æ¡n giáº£n | TrÃ¡i: Ä‘á»™ chÃ­nh xÃ¡c khi huáº¥n luyá»‡n | Pháº£i: Ä‘á»™ sai (loss) khi huáº¥n luyá»‡n | Nguá»“n : tÃ¡c gá»‰a
</p>
<p>Ráº¥t tá»‘t! BN nÃ¢ng cao hiá»‡u nÄƒng cá»§a mÃ´ hÃ¬nh, cáº£ á»Ÿ Ä‘á»™ chÃ­nh xÃ¡c láº«n Ä‘á»™ sai.</p>
<p>ThÃ­ nghiá»‡m thá»© hai lÃ  vá» giÃ¡ trá»‹ kÃ­ch hoáº¡t cá»§a lá»›p áº©n. Sau Ä‘Ã¢y lÃ  Ä‘á»“ thá»‹ giÃ¡ trá»‹ cá»§a lá»›p áº©n cuá»‘i (ngay trÆ°á»›c khi Ã¡p dá»¥ng hÃ m phi tuyáº¿n tÃ­nh nhÆ° ReLU hay sigmoid, v.v):</p>
<p align="center">
<img src="batchnorm/1_B2BG3gslTvx7EIbW2NqiBg.webp" width="600px">
</p>
<p align="center">
áº¢nh hÆ°á»Ÿng cá»§a BN lÃªn giÃ¡ trá»‹ kÃ­ch hoáº¡t | Nguá»“n : tÃ¡c giáº£
</p>
<p>Khi khÃ´ng cÃ³ BN, giÃ¡ trá»‹ kÃ­ch hoáº¡t giao Ä‘á»™ng nhiá»u hÆ¡n vá»›i nhá»¯ng láº§n láº·p Ä‘áº§u tiÃªn. NgÆ°á»£c láº¡i, khi cÃ³ BN, Ä‘Æ°á»ng cong cá»§a giÃ¡ trá»‹ kÃ­ch hoáº¡t mÆ°á»£t hÆ¡n.</p>
<p align="center">
<img src="batchnorm/1_0Hmpy0cyC6ne4PG86Ev2iQ.webp" width="600px">
</p>
<p align="center">
áº¢nh hÆ°á»Ÿng cá»§a BN lÃªn giÃ¡ trá»‹ kÃ­ch hoáº¡t | MÃ´ hÃ¬nh cÃ³ giÃ¡ trá»‹ kÃ­ch hoáº¡t dao Ä‘á»™ng mÆ°á»£t hÆ¡n khi thÃªm BN | Nguá»“n : tÃ¡c giáº£
</p>
<p>TÃ­n hiá»‡u cÅ©ng trá»Ÿ nÃªn Ã­t nhiá»…u hÆ¡n khi thÃªm lá»›p BN. CÃ³ váº» nhÆ° BN lÃ m mÃ´ hÃ¬nh há»™i tá»¥ dá»… hÆ¡n.</p>
<p>VÃ­ dá»¥ nÃ y váº«n chÆ°a minh hoáº¡ Ä‘Æ°á»£c háº¿t lá»£i Ã­ch cá»§a Batch Normalization.</p>
<p>BÃ i bÃ¡o gá»‘c thá»±c thiá»‡n thÃªm thÃ­ nghiá»‡m thá»© 3. NhÃ³m tÃ¡c giáº£ muá»‘n so sÃ¡nh hiá»‡u nÄƒng cá»§a mÃ´ hÃ¬nh khi thÃªm BN vá»›i bá»™ dá»¯ liá»‡u lá»›n hÆ¡n: ImageNet(2012). Äá»ƒ lÃ m váº­y, há» huáº¥n luyá»‡n má»™t máº¡ng nÆ¡-ron ráº¥t mÃ£nh máº½ lÃ  Inception. Ban Ä‘áº§u, Inception khÃ´ng sá»­ dá»¥ng báº¥t ká»³ lá»›p BN nÃ o. Há» thÃªm vÃ i lá»›p BN vÃ  huáº¥n luyá»‡n vá»›i nhiá»u má»©c learning rate khÃ¡c nhau (x1, x5, x30 láº§n giÃ¡ trá»‹ tá»‘i Æ°u trÆ°á»›c Ä‘Ã³). Há» cÅ©ng thá»­ nghiá»‡m thay táº¥t cáº£ hÃ m ReLU báº±ng sigmoid trong má»™t mÃ´ hÃ¬nh khÃ¡c. Cuá»‘i cÃ¹ng, há» so sÃ¡nh nhá»¯ng network Ä‘Ã£ Ä‘Æ°á»£c thay Ä‘á»•i vá»›i mÃ´ hÃ¬nh gá»‘c.</p>
<p align="center">
<img src="batchnorm/1_gfzbC-GrOoVUfk1yU4DdfQ.webp" width="600px">
</p>
<p align="center">
áº¢nh 1: Hiá»‡u quáº£ cá»§a BN. Äá»™ chÃ­nh xÃ¡c trÃªn táº­p Ä‘Ã¡nh giÃ¡ cá»§a ImageNet(2012) theo sá»‘ láº§n huáº¥n luyá»‡n. NÄƒm networks Ä‘Æ°á»£c so sÃ¡nh: â€œInceptionâ€ lÃ  network Inception gá»‘c [3], â€œBN-Xâ€ lÃ  Inception network thÃªm BN (vá»›i 3 learning rates: x1, x5, x30 láº§n Inception tá»‘i Æ°u), â€œBN-X-Sigmoidâ€ lÃ  Inception network thÃªm BN, nhÆ°ng thay ReLU báº±ng Sigmoid
</p>
<p>ChÃºng ta cÃ³ thá»ƒ káº¿t luáº­n nhÆ° sau:</p>
<blockquote class="blockquote">
<p>ThÃªm lá»›p BN giÃºp há»™i tá»¥ <strong>nhanh hÆ¡n vÃ  tá»‘t hÆ¡n </strong>(~ Ä‘á»™ chÃ­nh xÃ¡c cao hÆ¡n)</p>
</blockquote>
<p>Vá»›i bá»™ dá»¯ liá»‡u lá»›n, nhá»¯ng cáº£i thiá»‡n nÃ y cÃ ng quan trá»ng hÆ¡n lÃ  khi sá»­ dá»¥ng nhá»¯ng bá»™ dá»¯ liá»‡u nhá» hÆ¡n nhÆ° MNIST.</p>
<blockquote class="blockquote">
<p>ThÃªm lá»›p BN cho phÃ©p chÃºng ta sá»­ dá»¥ng <strong>learning rate lá»›n hÆ¡n nhÆ°ng láº¡i khÃ´ng hi sinh tÃ­nh há»™i tá»¥ cá»§a mÃ´ hÃ¬nh.</strong></p>
</blockquote>
<p>NhÃ³m tÃ¡c giáº£ tháº­m chÃ­ cÃ²n huáº¥n luyá»‡n thÃ nh cÃ´ng mÃ´ hÃ¬nh Inception káº¿t há»£p BN vá»›i learning rate lá»›n gáº¥p <strong>30 láº§n so vá»›i mÃ´ hÃ¬nh gá»‘c</strong>. Tháº­t áº¥n tÆ°á»£ng, khi chá»‰ vá»›i x5 learning rate thÃ¬ mÃ´ hÃ¬nh gá»‘c Ä‘Ã£ phÃ¢n tÃ¡n rá»“i.</p>
<p>Báº±ng cÃ¡ch Ä‘Ã³, BN lÃ m cho quÃ¡ trÃ¬nh tÃ¬m learning rate tá»‘t dá»… dÃ ng hÆ¡n khi khoáº£ng cÃ¡ch tá»« underfit Ä‘áº¿n gradient explosion cá»§a learning rate Ä‘Æ°á»£c tÄƒng lÃªn Ä‘Ã¡ng ká»ƒ.</p>
<p>ThÃªm ná»¯a, learning rate cao hÆ¡n giÃºp mÃ´ hÃ¬nh thoÃ¡t há»i giÃ¡ trá»‹ tá»‘i Æ°u cá»¥c bá»™. Nhá» váº­y mÃ  <strong>optimizer dá»… dÃ ng tÃ¬m Ä‘Æ°á»£c nghiá»‡m tá»‘t hÆ¡n cho quÃ¡ trÃ¬nh há»™i tá»¥.</strong></p>
<blockquote class="blockquote">
<p><strong>MÃ´ hÃ¬nh sá»­ dá»¥ng sigmoid cÃ³ káº¿t quáº£ khÃ¡ cáº¡nh tranh</strong> so vá»›i mÃ´ hÃ¬nh sá»­ dá»¥ng ReLU</p>
</blockquote>
<p>á» má»™t bá»©c tranh tá»•ng quan hÆ¡n, chÃºng ta tháº¥y ráº±ng mÃ´ hÃ¬nh ReLU cÃ³ hiá»‡u nÄƒng khÃ¡ hÆ¡n má»™t chÃºt so vá»›i mÃ´ hÃ¬nh dÃ¹ng sigmoid. Tuy nhiÃªn Ä‘Ã³ khÃ´ng pháº£i lÃ  Ä‘iá»u quan trá»ng nháº¥t.</p>
<p>TÃ¡c giáº£ Ian Goodfellow (tÃ¡c giáº£ cá»§a GAN) tá»«ng nÃ³i vá» BN:</p>
<blockquote class="blockquote">
<p>TrÆ°á»›c BN, chÃºng ta nghÄ© ráº±ng huáº¥n luyá»‡n mÃ´ hÃ¬nh há»c sÃ¢u vá»›i hÃ m kÃ­ch hoáº¡t sigmoid á»Ÿ cÃ¡c táº§ng áº©n lÃ  khÃ´ng thá»ƒ. ChÃºng ta xem xÃ©t má»™t vÃ i hÆ°á»›ng tiáº¿p cáº­n Ä‘á»ƒ xá»­ lÃ½ sá»± báº¥t á»•n Ä‘á»‹nh khi huáº¥n luyá»‡n, vÃ­ dá»¥ nhÆ° cÃ¡c phÆ°Æ¡ng phÃ¡p khá»Ÿi táº¡o tham sá»‘. Nhá»¯ng máº£nh ghÃ©p nÃ y dá»±a nhiá»u vÃ o kinh nghiá»‡m cÅ©ng nhÆ° ráº¥t khÃ³ Ä‘á»ƒ cho ra káº¿t quáº£ thoáº£ mÃ£n. Batch Normalization cho phÃ©p chÃºng ta huáº¥n luyá»‡n Ä‘Æ°á»£c cáº£ nhá»¯ng mÃ´ hÃ¬nh báº¥t á»•n Ä‘á»‹nh. ÄÃ³ chÃ­nh lÃ  nhá»¯ng gÃ¬ chÃºng ta tháº¥y Ä‘Æ°á»£c tá»« vÃ­ dá»¥ nÃ y. - Ian Goodfellows (tÃ¡c giáº£ viáº¿t láº¡i theo nguá»“n: https://www.youtube.com/watch?v=Xogn6veSyxA)</p>
</blockquote>
<p>Äáº¿n Ä‘Ã¢y, chÃºng ta Ä‘Ã£ hiá»ƒu Ä‘Æ°á»£c BN cÃ³ Ã½ nghÄ©a quan trá»ng nhÆ° tháº¿ nÃ o trong lÄ©nh vá»±c Há»c sÃ¢u.</p>
<p>Nhá»¯ng káº¿t quáº£ trÃªn táº¡o nÃªn má»™t bá»©c tranh tá»•ng quan vá» lá»£i Ã­ch cá»§a BN khi huáº¥n luyá»‡n mÃ´ hÃ¬nh. Tuy nhiÃªn, BN cÃ³ nhá»¯ng tÃ¡c dá»¥ng phá»¥ mÃ  chÃºng ta cáº§n lÆ°u tÃ¢m Ä‘á»ƒ táº­n dá»¥ng Ä‘Æ°á»£c nÃ³.</p>
</section>
<section id="tÃ¡c-dá»¥ng-phá»¥-cá»§a-bn-regularization" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="tÃ¡c-dá»¥ng-phá»¥-cá»§a-bn-regularization"><span class="header-section-number">3.1.3</span> TÃ¡c dá»¥ng phá»¥ cá»§a BN: Regularization</h3>
<p>BN phá»¥ thuá»™c vÃ o <strong>trung bÃ¬nh ğœ‡</strong> vÃ  <strong>phÆ°Æ¡ng sai ÏƒÂ²</strong> Ä‘á»ƒ chuáº©n hoÃ¡ giÃ¡ trá»‹ kÃ­ch hoáº¡t. VÃ¬ tháº¿ mÃ  káº¿t quáº£ Ä‘áº§u ra cá»§a BN sáº½ bá»‹ áº£nh hÆ°á»Ÿng vá»›i thá»‘ng kÃª cá»§a batch hiá»‡n táº¡i. Nhá»¯ng sá»± biáº¿n Ä‘á»•i sáº½ táº¡o thÃªm nhiá»…u, phá»¥ thuá»™c vÃ o dá»¯ liá»‡u Ä‘áº§u vÃ o cá»§a batch hiá»‡n táº¡i.</p>
<p>Viá»‡c thÃªm nhiá»…u cÅ©ng sáº½ giÃºp trÃ¡nh overfittingâ€¦ nghe khÃ¡ giá»‘ng vá»›i regularization, Ä‘Ãºng khÃ´ng nhá»‰?</p>
<p>Trong thá»±c nghiá»‡m, chÃºng ta sáº½ khÃ´ng dá»±a vÃ o BN Ä‘á»ƒ xá»­ lÃ½ overfitting, vÃ¬ sá»± quan trá»ng cá»§a tÃ­nh trá»±c giao (<a href="https://en.wikipedia.org/wiki/Orthogonality_(programming)">orthogonality</a>). NÃ³i má»™t cÃ¡ch Ä‘Æ¡n giáº£n, má»—i module nÃªn chá»‰ Ä‘áº£m nhiá»‡m má»™t nhiá»‡m vá»¥. Äiá»u nÃ y giÃºp trÃ¡nh viá»‡c phá»©c táº¡p hoÃ¡ quy trÃ¬nh phÃ¡t triá»ƒn.</p>
<p>Tuy nhiÃªn, viá»‡c biáº¿t Ä‘áº¿n tÃ¡c dá»¥ng phá»¥ nÃ y giÃºp chÃºng ta giáº£i thÃ­ch Ä‘Æ°á»£c nhá»¯ng hÃ nh vi ngoÃ i mong Ä‘á»£i cá»§a mÃ´ hÃ¬nh.</p>
<blockquote class="blockquote">
<p>LÆ°u Ã½: Khi kÃ­ch thÆ°á»›c batch cÃ ng lá»›n thÃ¬ tÃ¡c Ä‘á»™ng lÃªn regularization cÃ ng Ã­t Ä‘i (do nhiá»…u áº£nh hÆ°á»Ÿng Ã­t hÆ¡n)</p>
</blockquote>
<p align="center">
<img src="batchnorm/1_uzhM7EYE6GTNR6zw03ZccA.webp" width="600px">
</p>
<p align="center">
LÃ m sao Ä‘á»ƒ deploy Ä‘Æ°á»£c mÃ´ hÃ¬nh cÃ³ BN lÃªn há»‡ thá»‘ng nhÃºng? | Nguá»“n : <a href="https://unsplash.com/@liacastelli?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">MarÃ­lia Castelli</a>
</p>
</section>
<section id="chuáº©n-hoÃ¡-khi-Ä‘Ã¡nh-giÃ¡" class="level3" data-number="3.1.4">
<h3 data-number="3.1.4" class="anchored" data-anchor-id="chuáº©n-hoÃ¡-khi-Ä‘Ã¡nh-giÃ¡"><span class="header-section-number">3.1.4</span> Chuáº©n hoÃ¡ khi Ä‘Ã¡nh giÃ¡</h3>
<p>CÃ³ hai trÆ°á»ng há»£p mÃ  mÃ´ hÃ¬nh Ä‘Æ°á»£c gá»i lÃ  Ä‘ang á»Ÿ cháº¿ Ä‘á»™ Ä‘Ã¡nh giÃ¡ (evaluation mode):</p>
<ul>
<li><p>Khi Ä‘ang <strong>cross-validation</strong> hay <strong>test</strong> (huáº¥n luyá»‡n vÃ  phÃ¡t triá»ƒn mÃ´ hÃ¬nh)</p></li>
<li><p>Khi Ä‘ang <strong>deploy</strong> mÃ´ hÃ¬nh</p></li>
</ul>
<p>á» trÆ°á»ng há»£p Ä‘áº§u, chÃºng ta cÃ³ thá»ƒ Ã¡p dá»¥ng Batch Normalization vá»›i thá»‘ng kÃª tá»« batch Ä‘ang xá»­ lÃ½. Tuy nhiÃªn, á»Ÿ trÆ°á»ng há»£p sau thÃ¬ cÃ¡ch nÃ y khÃ´ng Ã¡p dá»¥ng Ä‘Æ°á»£c, vÃ¬ chÃºng ta khÃ´ng cÃ³ Ä‘á»§ má»™t batch Ä‘á»ƒ sá»­ dá»¥ng.</p>
<p>HÃ£y cÃ¹ng xem xÃ©t trÆ°á»ng há»£p má»™t robot vá»›i camera nhÃºng. CÃ³ thá»ƒ chÃºng ta sáº½ sá»­ dá»¥ng mÃ´ hÃ¬nh Ä‘á»ƒ dá»± Ä‘oÃ¡n vá»‹ trÃ­ cá»§a váº­t cáº£n Ä‘Æ°á»ng phÃ­a trÆ°á»›c. ChÃºng ta muá»‘n tÃ­nh toÃ¡n dá»± Ä‘oÃ¡n dá»±a trÃªn 1 khung áº£nh duy nháº¥t cho má»—i iteration. Náº¿u kÃ­ch cá»¡ batch lÃ  N, thÃ¬ <strong>N-1 inputs cÃ²n láº¡i thÃ¬ chÃºng ta nÃªn chá»n nhÆ° tháº¿ nÃ o Ä‘á»ƒ tÃ­nh toÃ¡n forward propagation?</strong></p>
<p>Nhá»› ráº±ng vá»›i má»—i lá»›p BN, (ğ›½, ğ›¾) Ä‘Æ°á»£c huáº¥n luyá»‡n báº±ng tÃ­n hiá»‡u Ä‘Ã£ chuáº©n hoÃ¡. Tháº¿ nÃªn <strong>chÃºng ta cáº§n xÃ¡c Ä‘á»‹nh (ğœ‡, Ïƒ)</strong> Ä‘á»ƒ táº¡o ra káº¿t quáº£ cÃ³ Ã½ nghÄ©a.</p>
<p>Má»™t giáº£i phÃ¡p lÃ  chá»n giÃ¡ trá»‹ ngáº«u nhiÃªn Ä‘á»ƒ Ä‘iá»n cho Ä‘á»§ batch. Khi Ä‘Æ°a batch Ä‘áº§u tiÃªn vÃ o, chÃºng ta sáº½ cÃ³ má»™t káº¿t quáº£ cho áº£nh mÃ  chÃºng ta quan tÃ¢m. Náº¿u chung ta táº¡o thÃªm batch thá»© hai vá»›i giÃ¡ trá»‹ ngáº«u nhiÃªn khÃ¡c, mÃ´ hÃ¬nh sáº½ cho dá»± Ä‘oÃ¡n khÃ¡c trÃªn cÃ¹ng má»™t áº£nh. ÄÃ¢y khÃ´ng pháº£i lÃ  hÃ nh vi mong muá»‘n vÃ¬ mÃ´ hÃ¬nh cÃ³ thá»ƒ dá»± Ä‘oÃ¡n khÃ¡c nhau cho cÃ¹ng má»™t input.</p>
<p>CÃ¡ch giáº£i quyáº¿t tá»‘t hÆ¡n lÃ  xÃ¡c Ä‘á»‹nh (ğœ‡_pop , Ïƒ_pop) - Æ°á»›c lÆ°á»£ng trung bÃ¬nh vÃ  Ä‘á»™ lá»‡ch chuáº©n cá»§a <strong>quáº§n thá»ƒ mÃ  ta nháº¯m Ä‘áº¿n</strong>. ThÃ´ng sá»‘ nÃ y Ä‘Æ°á»£c tÃ­nh báº±ng trung bÃ¬nh cá»§a (ğœ‡_batch, Ïƒ_batch) trong quÃ¡ trÃ¬nh huáº¥n luyá»‡n.</p>
<blockquote class="blockquote">
<p>CÃ¡ch nÃ y cÃ³ thá»ƒ dáº«n Ä‘áº¿n sá»± báº¥t á»•n Ä‘á»‹nh trong quÃ¡ trÃ¬nh Ä‘Ã¡nh giÃ¡: ChÃºng ta sáº½ tháº£o luáº­n Ä‘iá»u nÃ y á»Ÿ pháº§n tiáº¿p theo</p>
</blockquote>
</section>
<section id="tÃ­nh-á»•n-Ä‘á»‹nh-cá»§a-bn-layer" class="level3" data-number="3.1.5">
<h3 data-number="3.1.5" class="anchored" data-anchor-id="tÃ­nh-á»•n-Ä‘á»‹nh-cá»§a-bn-layer"><span class="header-section-number">3.1.5</span> TÃ­nh á»•n Ä‘á»‹nh cá»§a BN layer</h3>
<p>Tuy BN khÃ¡ hiá»‡u quáº£, nÃ³ cÅ©ng cÃ³ thá»ƒ Ä‘Ã´i khi gÃ¢y ra váº¥n Ä‘á» vá» á»•n Ä‘á»‹nh. CÃ³ trÆ°á»ng há»£p BN lÃ m giÃ¡ trá»‹ kÃ­ch hoáº¡t bá»‹ explode khi Ä‘Ã¡nh giÃ¡ (khiáº¿n loss=NaN).</p>
<p>NhÆ° á»Ÿ trÃªn cÃ³ Ä‘á» cáº­p, (ğœ‡_pop , Ïƒ_pop) trong quÃ¡ trÃ¬nh Ä‘Ã¡nh giÃ¡ Ä‘Æ°á»£c dá»±a trÃªn (ğœ‡_batch, Ïƒ_batch) khi huáº¥n luyá»‡n.</p>
<p>Thá»­ tÆ°á»Ÿng tÆ°á»£ng má»™t mÃ´ hÃ¬nh chá»‰ Ä‘Æ°á»£c huáº¥n luyá»‡n báº±ng tá»‡p áº£nh giÃ y thá»ƒ thao nhÆ°ng khi test láº¡i báº±ng táº­p giÃ y derby (kiá»ƒu giÃ y TÃ¢y)?</p>
<p align="center">
<img src="batchnorm/1_evTAYxc9esmDF8Fkfux3ew.webp" width="600px">
</p>
<p align="center">
Náº¿u phÃ¢n phá»‘i cá»§a Ä‘áº§u vÃ o quÃ¡ khÃ¡c giá»¯a khi huáº¥n luyá»‡n vÃ  Ä‘Ã¡nh giÃ¡, mÃ´ hÃ¬nh cÃ³ thá»ƒ pháº£n á»©ng thÃ¡i quÃ¡ vá»›i má»™t vÃ i tÃ­n hiá»‡u, dáº«n Ä‘áº¿n sá»± phÃ¢n tÃ¡n cá»§a giÃ¡ trá»‹ kÃ­ch hoáº¡t | Nguá»“n : <a href="https://unsplash.com/@grailify?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Grailify</a> &amp; <a href="https://unsplash.com/@jimmy2018?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Jia Ye</a>
</p>
<p>Giáº£ sá»­ giÃ¡ trá»‹ kÃ­ch hoáº¡t á»Ÿ lá»›p áº©n cÃ³ phÃ¢n phá»‘i quÃ¡ khÃ¡c biá»‡t giá»¯a khi huáº¥n luyá»‡n vÃ  khi Ä‘Ã¡nh giÃ¡, (ğœ‡_pop, Ïƒ_pop) sáº½ khÃ´ng Æ°á»›c lÆ°á»£ng Ä‘Ãºng Ä‘Æ°á»£c trung bÃ¬nh vÃ  Ä‘á»™ lá»‡ch chuáº©n cá»§a quáº§n thá»ƒ. Sá»­ dá»¥ng bá»™ giÃ¡ trá»‹ nÃ y sáº½ Ä‘áº©y lá»‡ch giÃ¡ trá»‹ kÃ­ch hoáº¡t xa khá»i phÃ¢n phá»‘i chuáº©n (ğœ‡ = 0, Ïƒ = 1) -&gt; Ä‘Ã¡nh giÃ¡ sai giÃ¡ trá»‹ kÃ­ch hoáº¡t.</p>
<blockquote class="blockquote">
<p>Hiá»‡n tÆ°á»£ng nÃ y gá»i lÃ  â€œcovariate shiftâ€, sáº½ nÃ³i á»Ÿ pháº§n sau</p>
</blockquote>
<p>Hiá»‡u á»©ng trÃªn cÃ²n Ä‘Æ°á»£c tÄƒng cÆ°á»ng bá»Ÿi má»™t thuá»™c tÃ­nh cá»§a BN: Trong khi huáº¥n luyá»‡n, giÃ¡ trá»‹ kÃ­ch hoáº¡t Ä‘Æ°á»£c chuáº©n hoÃ¡ bá»Ÿi chÃ­nh giÃ¡ trá»‹ cá»§a nÃ³. CÃ²n khi inference, thÃ¬ tÃ­n hiá»‡u láº¡i cÅ©ng Ä‘Æ°á»£c sá»­ dá»¥ng giÃ¡ trá»‹ (ğœ‡_pop, Ïƒ_pop) Ä‘Æ°á»£c tÃ­nh khi á»Ÿ tranining. Tháº¿ nÃªn, há»‡ sá»‘ cá»§a viá»‡c chuáº©n hoÃ¡ khÃ´ng bao gá»“m nhá»¯ng giÃ¡ trá»‹ kÃ­ch hoáº¡t.</p>
<p>NÃ³i chung, táº­p huáº¥n luyá»‡n pháº£i â€œÄ‘á»§ giá»‘ngâ€ vá»›i tá»‡p Ä‘Ã¡nh giÃ¡: Náº¿u khÃ´ng, viá»‡c huáº¥n luyá»‡n mÃ´ hÃ¬nh gáº§n nhÆ° lÃ  khÃ´ng thá»ƒ. Trong Ä‘a sá»‘ trÆ°á»ng há»£p, (ğœ‡_pop, Ïƒ_pop) cÅ©ng nÃªn khá»›p vá»›i bá»™ dá»¯ liá»‡u Ä‘Ã¡nh giÃ¡. Náº¿u khÃ´ng Ä‘Æ°á»£c váº­y thÃ¬ chÃºng ta sáº½ káº¿t luáº­n lÃ  táº­p huáº¥n luyá»‡n khÃ´ng Ä‘á»§ lá»›n, hoáº·c cháº¥t lÆ°á»£ng cá»§a dá»¯ liá»‡u khÃ´ng Ä‘á»§ tá»‘t cho tÃ¡c vá»¥ má»¥c tiÃªu.</p>
<p>TÃ¡c giáº£ cÅ©ng tá»«ng gáº·p trÆ°á»ng há»£p nÃ y trong cuá»™c thi <a href="https://www.kaggle.com/c/osic-pulmonary-fibrosis-progression">Pulmonary Fibrosis Progression Kaggle competition</a>. Táº­p huáº¥n luyá»‡n bao gá»“m metadata, 3D scans phá»•i cá»§a tá»«ng bá»‡nh nhÃ¢n. Ná»™i dung cá»§a nhá»¯ng báº£n scans nÃ y phá»©c táº¡p vÃ  phong phÃº, tuy nhiÃªn nÃ³ chá»‰ tá»« gáº§n 100 bá»‡nh nhÃ¢n Ä‘á»ƒ chia thÃ nh train vÃ  validation. Káº¿t quáº£ lÃ  CNN dÃ¹ng Ä‘á»ƒ trÃ­ch xuáº¥t Ä‘áº·c trÆ°ng mÃ  tÃ¡c giáº£ dÃ¹ng chá»‰ tráº£ vá» NaN khi mÃ´ hÃ¬nh chuyá»ƒn tá»« huáº¥n luyá»‡n sang Ä‘Ã¡nh giÃ¡.</p>
<p>Khi báº¡n khÃ´ng thá»ƒ láº¥y thÃªm dá»¯ liá»‡u Ä‘á»ƒ bá»• sung cho huáº¥n luyá»‡n, báº¡n cáº§n pháº£i tÃ¬m cÃ¡ch khÃ¡c. Trong trÆ°á»ng há»£p nÃ y, tÃ¡c giáº£ â€œÃ©pâ€ cÃ¡c lá»›p BN pháº£i tÃ­nh láº¡i (ğœ‡_batch, Ïƒ_batch) khi Ä‘Ã¡nh giÃ¡. (tÃ¡c giáº£ tá»± nháº­n Ä‘Ã¢y lÃ  cÃ¡ch hÆ¡i â€œxáº¥u xÃ­â€, nhÆ°ng anh ta khÃ´ng cÃ²n thá»i gian).</p>
<p>ThÃªm cÃ¡c lá»›p BN vÃ o mÃ´ hÃ¬nh mÃ  tá»± giáº£ Ä‘á»‹nh ráº±ng nÃ³ khÃ´ng cÃ³ áº£nh hÆ°á»Ÿng xáº¥u khÃ´ng pháº£i lÃºc nÃ o cÅ©ng lÃ  má»™t Ä‘iá»u tá»‘t.</p>
</section>
<section id="recurrent-network-vÃ -layer-normalization" class="level3" data-number="3.1.6">
<h3 data-number="3.1.6" class="anchored" data-anchor-id="recurrent-network-vÃ -layer-normalization"><span class="header-section-number">3.1.6</span> Recurrent Network vÃ  Layer Normalization</h3>
<p>Trong thá»±c nghiá»‡m, nhiá»u ngÆ°á»i nháº­n Ä‘á»‹nh ráº±ng:</p>
<ul>
<li><p>Trong CNN: Batch Normalization (BN) phÃ¹ há»£p hÆ¡n</p></li>
<li><p>Trong RNN: Layer Normalization (LN) phÃ¹ há»£p hÆ¡n</p></li>
</ul>
<p>Trong khi BN dÃ¹ng batch hiá»‡n táº¡i Ä‘á»ƒ chuáº©n hoÃ¡ tá»«ng giÃ¡ trá»‹, LN thÃ¬ dÃ¹ng táº¥t cáº£ cÃ¡c layers hiá»‡n táº¡i. NÃ³i cÃ¡ch khÃ¡c, LN chuáº©n hoÃ¡ trÃªn toÃ n bá»™ cÃ¡c Ä‘áº·c trÆ°ng cá»§a dá»¯ liá»‡u thay vÃ¬ theo tá»«ng Ä‘áº·c trÆ°ng nhÆ° BN. Äiá»u nÃ y lÃ m LN hiá»‡u quáº£ hÆ¡n vá»›i RNN. Viá»‡c Ä‘Æ°a má»™t phÆ°Æ¡ng phÃ¡p nháº¥t quÃ¡n cho RNN khÃ¡ lÃ  khÃ³, vÃ¬ RNN sá»­ dá»¥ng phÃ©p nhÃ¢n láº·p Ä‘i láº·p láº¡i vá»›i cÃ¹ng má»™t bá»™ trá»ng sá»‘. Váº­y chÃºng ta nÃªn chuáº©n hoÃ¡ theo tá»«ng step má»™t cÃ¡ch Ä‘á»™c láº­p? Hay lÃ  nÃªn tÃ­nh mean trÃªn toÃ n steps, hay lÃ  chuáº©n hoÃ¡ theo quy há»“i? (Tham kháº£o: <a href="https://www.youtube.com/watch?v=Xogn6veSyxA&amp;ab_channel=Taro">YouTube</a>)</p>
<p>CÃ¢u há»i nÃ y náº±m ngoÃ i pháº¡m vi cá»§a bÃ i viáº¿t nÃ y.</p>
</section>
<section id="trÆ°á»›c-hay-sau-phi-tuyáº¿n-tÃ­nh" class="level3" data-number="3.1.7">
<h3 data-number="3.1.7" class="anchored" data-anchor-id="trÆ°á»›c-hay-sau-phi-tuyáº¿n-tÃ­nh"><span class="header-section-number">3.1.7</span> TrÆ°á»›c hay sau phi tuyáº¿n tÃ­nh?</h3>
<p>Tá»« trÆ°á»›c Ä‘áº¿n nay, lá»›p BN thÆ°á»ng Ä‘áº·t ngay sau hÃ m phi tuyáº¿n tÃ­nh, Ä‘Ã¢y lÃ  cÃ¡ch lÃ m Ä‘Ãºng theo má»¥c tiÃªu vÃ  giáº£ thiáº¿t cá»§a tÃ¡c giáº£ gá»‘c:</p>
<blockquote class="blockquote">
<p>â€œChÃºng tÃ´i muá»‘n Ä‘áº£m báº£o ráº±ng, vá»›i má»i giÃ¡ trá»‹ tham sá»‘, máº¡ng lÆ°á»›i lÃºc nÃ o cÅ©ng cho ra giÃ¡ trá»‹ kÃ­ch hoáº¡t vá»›i phÃ¢n phá»‘i mong muá»‘nâ€ â€” Sergey Ioffe &amp; Christian Szegedy (source : [1])</p>
</blockquote>
<p>Má»™t vÃ i thÃ­ nghiá»‡m cho tháº¥y viá»‡c Ä‘áº·t lá»›p BN Ä‘áº±ng sau hÃ m phi tuyáº¿n tinh cho káº¿t quáº£ tá»‘t hÆ¡n. <a href="https://github.com/ducha-aiki/caffenet-benchmark/blob/master/batchnorm.md#bn----before-or-after-relu">VÃ­ dá»¥</a></p>
<p>FranÃ§ois Chollet, cha Ä‘áº» cá»§a Keras vÃ  hiá»‡n táº¡i lÃ  ká»¹ sÆ° cá»§a Google, cho ráº±ng:</p>
<blockquote class="blockquote">
<p>TÃ´i chÆ°a xem láº¡i nhá»¯ng khuyáº¿n cÃ¡o trong paper gá»‘c, nhÆ°ng tÃ´i Ä‘áº£m báº£o ráº±ng mÃ£ nguá»“n gáº§n Ä‘Ã¢y viáº¿t bá»Ÿi Christian [Szegedy] Ä‘áº·t relu trÆ°á»›c BN. Tuy nhiÃªn, váº¥n Ä‘á» nÃ y cÅ©ng hay Ä‘Æ°á»£c tranh luáº­n.</p>
</blockquote>
<p>Váº«n cÃ³ nhiá»u kiáº¿n trÃºc thÆ°á»ng dÃ¹ng trong transfer learning Ä‘áº·t BN trÆ°á»›c hÃ m phi tuyáº¿n tÃ­nh nhÆ° ResNet, mobilenet-v2, v.v</p>
<p>NÃªn nhá»› ráº±ng trong bÃ i bÃ¡o [2], khi thÃ¡ch thá»©c nhá»¯ng giáº£ thiáº¿t cá»§a bÃ i bÃ¡o gá»‘c Ä‘á»ƒ giáº£i thÃ­ch sá»± hiá»‡u quáº£ cá»§a BN thÃ¬ tÃ¡c giáº£ láº¡i Ä‘á»ƒ lá»›p BN trÆ°á»›c hÃ m kÃ­ch hoáº¡t. Tuy nhiÃªn, tÃ¡c giáº£ láº¡i khÃ´ng Ä‘Æ°a ra nguyÃªn nhÃ¢n thuyáº¿t phá»¥c cho viá»‡c nÃ y.</p>
<p>Cho Ä‘áº¿n nay thÃ¬ váº¥n Ä‘á» nÃ y váº«n Ä‘Æ°á»£c tháº£o luáº­n vÃ  tranh cÃ£i. TrÃªn reddit cÅ©ng cÃ³ má»™t <a href="https://www.reddit.com/r/MachineLearning/comments/67gonq/comment/dgqaksn/">thread nÃ³i vá» Ä‘iá»u nÃ y</a>.</p>
</section>
</section>
<section id="táº¡i-sao-bn-láº¡i-hiá»‡u-quáº£" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="táº¡i-sao-bn-láº¡i-hiá»‡u-quáº£"><span class="header-section-number">3.2</span> Táº¡i sao BN láº¡i hiá»‡u quáº£?</h2>
<p>Trong Ä‘a sá»‘ trÆ°á»ng há»£p, BN gia tÄƒng hiá»‡u nÄƒng cá»§a mÃ´ hÃ¬nh há»c sÃ¢u. Äiá»u Ä‘Ã³ ráº¥t tá»‘t, nhÆ°ng chÃºng ta cáº§n hiá»ƒu thÃªm vá» nguyÃªn nhÃ¢n gá»‘c rá»… cá»§a nÃ³.</p>
<p>Váº¥n Ä‘á» lÃ : chÃºng ta váº«n chÆ°a biáº¿t táº¡i sao BN láº¡i hiá»ƒu quáº£ nhÆ° váº­y. Má»™t vÃ i giáº£ thiáº¿t Ä‘Æ°á»£c Ä‘Æ°a ra trong cá»™ng Ä‘á»“ng há»c sÃ¢u vÃ  chÃºng ta sáº½ xem xÃ©t tá»«ng cÃ¡i má»™t.</p>
<p>TrÆ°á»›c khi tháº£o luáº­n tiáº¿p, Ä‘Ã¢y lÃ  nhá»¯ng thá»© chÃºng ta sáº½ tháº¥y:</p>
<ul>
<li><p>BÃ i bÃ¡o gá»‘c [1] giáº£ Ä‘á»‹nh ráº±ng BN hiá»‡u quáº£ vÃ¬ nÃ³ giáº£m Ä‘i thá»© mÃ  há» gá»i lÃ  <strong>Internal covariate shift</strong> (ICS). Má»™t bÃ i bÃ¡o gáº§n Ä‘Ã¢y [2] Ä‘Ã£ phá»§ Ä‘á»‹nh Ä‘iá»u nÃ y.</p></li>
<li><p>Giáº£i thiáº¿t tiáº¿p theo cho ráº±ng BN giáº£m thiá»ƒu sá»± phá»¥ thuá»™c láº«n nhau giá»¯a cÃ¡c layers khi huáº¥n luyá»‡n.</p></li>
<li><p>Giáº£ thiáº¿t tá»« MIT [2] nháº¥n máº¡nh áº£nh hÆ°á»Ÿng cá»§a BN lÃªn <strong>optimization landscape smoothness</strong>, khiáº¿n training dá»… dÃ ng hÆ¡n.</p></li>
</ul>
<p>Viá»‡c khÃ¡m phÃ¡ nhá»¯ng giáº£ thiáº¿t trÃªn sáº½ xÃ¢y dá»±ng cho báº¡n cÃ¡ch hiá»ƒu vá»¯ng cháº¯c hÆ¡n vá» Batch Normalization.</p>
<section id="giáº£-thiáº¿t-1-bn-giáº£m-internal-covariate-shift" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="giáº£-thiáº¿t-1-bn-giáº£m-internal-covariate-shift"><span class="header-section-number">3.2.1</span> Giáº£ thiáº¿t 1: BN giáº£m internal covariate shift</h3>
<p>Cho dÃ¹ áº£nh hÆ°á»Ÿng cá»§a BN lÃ  ráº¥t lá»›n, BN váº«n lÃ  Ä‘iá»u dá»… bá»‹ hiá»ƒu sai. VÃ  Ä‘iá»u nÃ y Ä‘a pháº§n lÃ  do <strong>má»™t giáº£ thiáº¿t sai cá»§a bÃ i bÃ¡o gá»‘c</strong> [1]:</p>
<blockquote class="blockquote">
<p>â€œChÃºng tÃ´i gá»i Ä‘áº¿n sá»± thay Ä‘á»•i cá»§a phÃ¢n phá»‘i cá»§a nhá»¯ng nodes trong má»™t máº¡ng há»c sÃ¢u khi Ä‘ang huáº¥n luyá»‡n lÃ  Internal Covariate Shift (ICS). [â€¦] ChÃºng tÃ´i Ä‘á» xuáº¥t má»™t phÆ°Æ¡ng phÃ¡p má»›i, gá»i lÃ  Batch Normalization, Ä‘á»ƒ tiáº¿n Ä‘áº¿n giáº£m thiá»ƒu internal covariate shift, vÃ  hÆ¡n ná»¯a lÃ  tÄƒng tá»‘c Ä‘Ã¡ng ká»ƒ quÃ¡ trÃ¬nh huáº¥n luyá»‡n DNNâ€. â€” Sergey Ioffe &amp; Christian Szegedy (nguá»“n : [1])</p>
</blockquote>
<p>NÃ³i cÃ¡ch khÃ¡c, BN hiá»‡u quáº£ vÃ¬ nÃ³ giáº£i quyáº¿t (má»™t pháº§n) váº¥n Ä‘á» ICS.</p>
<p>Nháº­n Ä‘á»‹nh nÃ y gáº·p thÃ¡ch thá»©c lá»›n bá»Ÿi bÃ i bÃ¡o [2].</p>
<p>Äá»ƒ hiá»ƒu Ä‘Æ°á»£c lÃ½ do gÃ¬ láº¡i dáº«n Ä‘áº¿n sá»± ráº¯c rá»‘i nÃ y, chÃºng ta sáº½ tháº£o luáº­n xem covariate shift lÃ  gÃ¬, vÃ  nÃ³ bá»‹ áº£nh hÆ°á»Ÿng tháº¿ nÃ o tá»« normalization.</p>
<section id="covariate-shift-lÃ -gÃ¬" class="level4" data-number="3.2.1.1">
<h4 data-number="3.2.1.1" class="anchored" data-anchor-id="covariate-shift-lÃ -gÃ¬"><span class="header-section-number">3.2.1.1</span> Covariate shift lÃ  gÃ¬?</h4>
<p>TÃ¡c giáº£ cá»§a [1] Ä‘á»‹nh nghÄ©a: covariate shift - á»Ÿ gÃ³c nhÃ¬n cá»§a sá»± á»•n Ä‘á»‹nh phÃ¢n phá»‘i - lÃ  sá»± di chuyá»ƒn cá»§a phÃ¢n phá»‘i dá»¯ liá»‡u dáº§u vÃ o cá»§a mÃ´ hÃ¬nh. Má»Ÿ rá»™ng hÆ¡n, internal covariate shift mÃ´ táº£ hiá»‡n tÆ°á»£ng trÃªn khi nÃ³ xáº£y ra giá»¯a cÃ¡c hidden layers (lá»›p áº©n) cá»§a má»™t máº¡ng há»c sÃ¢u.</p>
<p>HÃ£y xem táº¡i sao Ä‘Ã¢y lÃ  má»™t váº¥n Ä‘Ã¨ thoong qua vÃ­ dá»¥ sau.</p>
<p>Gáº£i sá»­ chÃºng ta muá»‘n huáº¥n luyá»‡n má»™t mÃ´ hÃ¬nh phÃ¢n loáº¡i Ä‘á»ƒ tráº£ lá»i cÃ¢u há»i: ÄÃ¢y cÃ³ pháº£i chiáº¿c xe hÆ¡i khÃ´ng? Náº¿u chÃºng ta muá»‘n trÃ­ch xuáº¥t toÃ n bá»™ hÃ¬nh áº£nh xe hÆ¡i trong má»™t táº­p dá»¯ liá»‡u cá»±c lá»›n, mÃ´ hÃ¬nh nÃ y giÃºp ta tiáº¿p kiá»‡m ráº¥t nhiá»u thá»i gian.</p>
<p>ChÃºng ta sáº½ dÃ¹ng hÃ¬nh RGB lÃ m Ä‘áº§u vÃ o, sau Ä‘Ã³ lÃ  vÃ i lá»›p CNN, vÃ  vÃ i lá»›p fully connected. Output sáº½ lÃ  má»™t giÃ¡ trá»‹ duy nháº¥t, Ä‘Æ°a vÃ o má»™t lÃ m logistic Ä‘á»ƒ cho ra giÃ¡ trá»‹ tá»« 0 Ä‘áº¿n 1 - mÃ´ táº£ xÃ¡c xuáº¥t mÃ  hÃ¬nh input cÃ³ chá»©a xe hÆ¡i.</p>
<p align="center">
<img src="batchnorm/1_PrEddXFhA52q6k4Kk9nqww.webp" width="600px">
</p>
<p align="center">
Má»™t mÃ´ hÃ¬nh phÃ¢n loáº¡i CNN Ä‘Æ¡n giáº£n | Nguá»“n : TÃ¡c gá»‰a - Thiáº¿t káº¿: <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<p>BÃ¢y giá», hÃ£y xem chÃºng ta chá»‰ cÃ³ xe â€œbÃ¬nh thÆ°á»ngâ€ Ä‘á»ƒ huáº¥n luyá»‡n. Tháº¿ thÃ¬ mÃ´ hÃ¬nh sáº½ hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o náº¿u chÃºng ta muá»‘n nÃ³ phÃ¢n loáº¡i má»™t chiáº¿c xe cÃ´ng thá»©c 1?</p>
<p align="center">
<img src="batchnorm/1_UkkceCexOHwLvV-iXOsuKw.webp" width="600px">
</p>
<p align="center">
NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, covariate shift khiáº¿n giÃ¡ trá»‹ kÃ­ch hoáº¡t bá»‹ phÃ¢n tÃ¡n. Ngay cáº£ khi nÃ³ khÃ´ng lÃ m váº­y, nÃ³ cÅ©ng lÃ m giáº£m hiá»‡u nÄƒng cá»§a mÃ´ hÃ¬nh | Nguá»“n : <a href="https://unsplash.com/@dhivakrishna?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Dhiva Krishna (TrÃ¡i)</a>, <a href="https://unsplash.com/@ferhat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Ferhat Deniz Fors (Pháº£i)</a>
</p>
<p>Trong vÃ­ dá»¥ nÃ y, cÃ³ sá»± khÃ¡c biá»‡t giá»¯a phÃ¢n phá»‘i cá»§a dá»¯ liá»‡u huáº¥n luyá»‡n vs Ä‘Ã¡nh giáº£. NÃ³i rá»™ng hÆ¡n, sá»± thay Ä‘á»•i vá» hÆ°á»›ng xe, Ã¡nh sÃ¡ng, Ä‘iá»u kiá»‡n thá»i tiáº¿t cÅ©ng Ä‘á»§ áº£nh hÆ°á»›ng Ä‘áº¿n hiá»‡u nÄƒng cá»§a mÃ´ hÃ¬nh. á» Ä‘Ã¢y, mÃ´ hÃ¬nh cá»§a chÃºng ta khÃ´ng tá»•ng quÃ¡t Ä‘á»§ tá»‘t.</p>
<p>Náº¿u chÃºng ta plot nhá»¯ng Ä‘áº·c trÆ°ng Ä‘Æ°á»£c trÃ­nh xuáº¥t ra tá»« khÃ´ng gian Ä‘áº·c trÆ°ng, chÃºng ta sáº½ cÃ³ hÃ¬nh giá»‘ng nhÆ° sau:</p>
<p align="center">
<img src="batchnorm/1_cVFsnaXsZOTsYWI6WCFX7Q.webp" width="600px">
</p>
<p align="center">
HÃ¬nh 6.a: Táº¡i sao chÃºng ta cáº§n chuáº©n hoÃ¡ giÃ¡ trá»‹ Ä‘áº§u vÃ o cá»§a mÃ´ hÃ¬nh? TrÆ°á»ng há»£p khÃ´ng chuáº©n hoÃ¡: Khi huáº¥n luyá»‡n, giÃ¡ trá»‹ inputs náº±m xa nhau: hÃ m sá»‘ xáº¥p xá»‰ sáº½ ráº¥t chÃ­nh xÃ¡c khi cÃ¡c Ä‘iá»ƒm náº±m cáº­n nhau. NgÆ°á»£c láº¡i, hÃ m nÃ y sáº½ thiáº¿u chÃ­nh xÃ¡c vÃ  bá»‹ ngáº«u nhiÃªu khi máº­t Ä‘á»™ dá»¯ liá»‡u tháº¥p | Nguá»“n : Nguá»“n : TÃ¡c giáº£ - thiáº¿t káº¿ bá»Ÿi: <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<p>Gá»‰a Ä‘á»‹nh ráº±ng kÃ½ tá»± X tÆ°Æ¡ng á»©ng vá»›i hÃ¬nh áº£nh khÃ´ng xe hÆ¡i, vÃ  O lÃ  hÃ¬nh áº£nh cÃ³ xe hÆ¡i. á» Ä‘Ã¢y, chÃºng ta cÃ³ má»™t hÃ m Ä‘á»ƒ chia giá»¯a hai loáº¡i áº£nh. NhÆ°ng hÃ m nÃ y sáº½ cÃ³ Ä‘á»™ chÃ­nh xÃ¡c tháº¥p hÆ¡n á»Ÿ pháº§n trÃªn cÃ¹ng bÃªn pháº£i cá»§a Ä‘á»“ thá»‹ vÃ¬ khÃ´ng cÃ³ Ä‘á»§ dá»¯ liá»‡u Ä‘á»ƒ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c hÃ m tá»‘t hÆ¡n. Äiá»u nÃ y cÃ³ thá»ƒ dáº«n Ä‘áº¿n Ä‘á»™ chÃ­nh xÃ¡c tháº¥p hÆ¡n trong quÃ¡ trÃ¬nh Ä‘Ã¡nh giÃ¡.</p>
<p>Äá»ƒ huáº¥n luyá»‡n mÃ´ hÃ¬nh hiá»‡u quáº£ hÆ¡n, chÃºng ta cáº§n nhiá»u hÃ¬nh áº£nh cÃ³ xe hÆ¡i, vá»›i táº¥t cáº£ cÃ¡c Ä‘iá»u kiá»‡n cÃ³ thá»ƒ tÆ°á»Ÿng tÆ°á»£ng ra. Tuy ráº±ng Ä‘Ã¢y lÃ  chÃºng ta huáº¥n luyá»‡n CNN, chÃºng ta cÅ©ng muá»‘n ráº±ng mÃ´ hÃ¬nh sáº½ tá»•ng quÃ¡t hoÃ¡ tá»‘t chá»‰ vá»›i Ã­t dá»¯ liá»‡u nháº¥t cÃ³ thá»ƒ.</p>
<blockquote class="blockquote">
<p>Tá»« gÃ³c nhÃ¬n cá»§a mÃ´ hÃ¬nh, hÃ¬nh áº£nh khi huáº¥n luyá»‡n - vá» máº·t thá»‘ng kÃª - thÃ¬ quÃ¡ khÃ¡c biá»‡t vá»›i hÃ¬nh áº£nh khi testing. Tá»©c lÃ  cÃ³ <strong>covariate shift</strong></p>
</blockquote>
<p>CÃ³ thá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y báº±ng nhá»¯ng mÃ´ hÃ¬nh Ä‘Æ¡n giáº£n hÆ¡n. Nhá»¯ng mÃ´ hÃ¬nh logistic regression thÆ°á»ng dá»… tá»‘i Æ°u hÆ¡n khi giÃ¡ trá»‹ input Ä‘Æ°á»£c chuáº©n hoÃ¡ (cÃ³ phÃ¢n phá»‘i gáº§n vá»›i (ğœ‡ = 0, Ïƒ = 1)); ÄÃ¢y lÃ  lÃ½ mo mÃ  dá»¯ liá»‡u Ä‘áº§u vÃ o thÆ°á»ng Ä‘Æ°á»£c chuáº©n hoÃ¡.</p>
<p align="center">
<img src="batchnorm/1_jGTvhWXnltmk_9MWMdRPGQ.webp" width="600px">
</p>
<p align="center">
HÃ¬nh 6.b: Táº¡i sao chÃºng ta cáº§n chuáº©n hoÃ¡ giÃ¡ trá»‹ Ä‘áº§u vÃ o cá»§a mÃ´ hÃ¬nh? TrÆ°á»ng há»£p cÃ³ chuáº©n hoÃ¡: CÃ¡c dá»¯ liá»‡u Ä‘Æ°á»£c kÃ©o gáº§n láº¡i hÆ¡n trong khÃ´ng gian Ä‘áº·c trÆ°ng -&gt; Dá»… tÃ¬m kiáº¿m hÃ m tá»•ng quÃ¡t tá»‘t hÆ¡n | Nguá»“n : TÃ¡c giáº£ - thiáº¿t káº¿ bá»Ÿi: <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<p>Giáº£i phÃ¡p nÃ y Ä‘Æ°á»£c biáº¿t Ä‘áº¿n rá»™ng rÃ£i ngay cáº£ trÆ°á»›c khi bÃ i bÃ¡o vá» BN Ä‘Æ°á»£c Ä‘Äƒng. Vá»›i BN, nhÃ³m tÃ¡c giáº£ cá»§a [1] muá»‘n má»Ÿ rá»™ng phÆ°Æ¡ng phÃ¡p nÃ y Ä‘áº¿n vá»›i nhá»¯ng lá»›p áº©n Ä‘á»ƒ cáº£i thiá»‡n quÃ¡ trÃ¬nh huáº¥n luyá»‡n.</p>
</section>
<section id="giáº£i-thiáº¿t-cá»§a-bÃ i-bÃ¡o-gá»‘c-internal-covariate-shift-phÃ¡-há»ng-quÃ¡-trÃ¬nh-huáº¥n-luyá»‡n" class="level4" data-number="3.2.1.2">
<h4 data-number="3.2.1.2" class="anchored" data-anchor-id="giáº£i-thiáº¿t-cá»§a-bÃ i-bÃ¡o-gá»‘c-internal-covariate-shift-phÃ¡-há»ng-quÃ¡-trÃ¬nh-huáº¥n-luyá»‡n"><span class="header-section-number">3.2.1.2</span> Giáº£i thiáº¿t cá»§a bÃ i bÃ¡o gá»‘c: Internal covariate shift phÃ¡ há»ng quÃ¡ trÃ¬nh huáº¥n luyá»‡n</h4>
<p align="center">
<img src="batchnorm/1_uGhOg55BEqkmJA93d_TgrQ.webp" width="600px">
</p>
<p align="center">
HÃ¬nh 7: NguyÃªn lÃ½ Internal covariate shift (ICS) trong gÃ³c nhÃ¬n vá» sá»± á»•n Ä‘á»‹nh phÃ¢n phá»‘i | Nguá»“n : TÃ¡c giáº£ - thiáº¿t káº¿ bá»Ÿi: <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<p>Trong bÃ i toÃ¡n phÃ¢n loáº¡i á»Ÿ trÃªn vá» xe hÆ¡i, cÃ³ thá»ƒ xem nhá»¯ng lá»›p áº©n nhÆ° nhá»¯ng pháº§n tá»« Ä‘Æ°á»£c kÃ­ch hoáº¡t khi nÃ³ phÃ¡t hiá»‡n ra nhá»¯ng Ä‘áº·c trÆ°ng liÃªn quan Ä‘áº¿n xe hÆ¡i: nhÆ° lÃ  bÃ¡nh xe, lá»‘p hoáº·c cá»­a xe. ChÃºng ta cÃ³ thá»ƒ giáº£ Ä‘á»‹nh ráº±ng nhá»¯ng cÃ¡i hiá»‡u á»©ng nÃ³i Ä‘áº¿n á»Ÿ trÃªn cÃ³ thá»ƒ xáº£y ra giá»¯a nhá»¯ng lá»›p áº©n. Má»™t cÃ¡i bÃ¡nh xe vá»›i má»™t hÆ°á»›ng xoay nÃ o Ä‘Ã³ sáº½ kÃ­ch hoáº¡t nÆ¡-ron liÃªn quan Ä‘áº¿n phÃ¢n phá»‘i Ä‘Ã³. Trong trÆ°á»ng há»£p lÃ½ tÆ°á»Ÿng, chÃºng ta muá»‘n nhá»¯ng má»™t vÃ i nÆ¡-ron pháº£n á»©ng vá»›i nhá»¯ng phÃ¢n phá»‘i cá»§a bÃ¡nh xe á»Ÿ báº¥t cá»© hÆ°á»›ng xoay nÃ o, Ä‘á»ƒ mÃ´ hÃ¬nh cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c xÃ¡c suáº¥t áº£nh input cÃ³ xe hay khÃ´ng hiá»‡u quáº£ hÆ¡n.</p>
<p>Náº¿u dá»¯ liá»‡u input cÃ³ covariate shift lá»›n, optimizer sáº½ gáº·p váº¥n Ä‘á» khi tá»•ng quÃ¡t dá»¯ liá»‡u. NgÆ°á»£c láº¡i, náº¿u tÃ­n hiá»‡u Ä‘áº§u vÃ o luÃ´n tuÃ¢n theo phÃ¢n phá»‘i chuáº©n, optimzer sáº½ dá»… dÃ ng tá»•ng quÃ¡t hÆ¡n. Vá»›i nhá»¯ng Ä‘iá»u nÃ y, tÃ¡c giáº£ cá»§a [1] Ä‘Ã£ Ã¡p dá»¥ng chiáº¿n tháº­t chuáº©n hoÃ¡ dá»¯ liá»‡u trong lá»›p áº©n. Há» giáº£ Ä‘á»‹nh ráº±ng Ã©p (ğœ‡ = 0, Ïƒ = 1) vÃ o phÃ¢n phá»‘i cá»§a tÃ­n hiá»‡u trung gian sáº½ tá»•ng quÃ¡t tá»‘t hÆ¡n á»Ÿ táº§ng â€œkhÃ¡i niá»‡mâ€ cá»§a nhá»¯ng Ä‘áº·c trÆ°ng.</p>
<p>Tuy nhiÃªn, chÃºng ta khÃ´ng pháº£i lÃºc nÃ o cÅ©ng muá»‘n phÃ¢n phá»‘i chuáº©n trong nhá»¯ng lá»›p áº©n. VÃ¬ nÃ³ cÃ³ thá»ƒ lÃ m giáº£m tÃ­nh biá»ƒu thá»‹ cá»§a mÃ´ hÃ¬nh:</p>
<p align="center">
<img src="batchnorm/1__9pcc30N9SBPgmIbxVQ8EA.webp" width="600px">
</p>
<p align="center">
HÃ¬nh 7: LÃ½ do chÃºng ta khÃ´ng pháº£i lÃºc nÃ o cÅ©ng cáº§n phÃ¢n phá»‘i chuáº©n cho lá»›p áº©n. Trong trÆ°á»ng há»£p nÃ y, hÃ m sigmoid sáº½ chá»‰ hoáº¡t Ä‘Æ°á»£c Ä‘Æ°á»£c pháº§n linear cá»§a nÃ³ | Nguá»“n : TÃ¡c giáº£ - thiáº¿t káº¿ bá»Ÿi: <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<p>Váº¥n Ä‘á» nÃ y Ä‘Æ°á»£c tÃ¡c giáº£ cá»§a [1] giáº£i quyáº¿t báº±ng cÃ¡ch thÃªm 2 tham sá»‘ huáº¥n luyá»‡n lÃ  ğ›½ and ğ›¾, giÃºp optimizer cÃ³ thá»ƒ chá»n Ä‘Æ°á»£c trung bÃ¬nh tá»‘i Æ°u (dÃ¹ng ğ›½) vÃ  Ä‘á»™ lá»‡ch chuáº©n tá»‘i Æ°u (dÃ¹ng ğ›¾) cho tÃ¡c vá»¥ nháº¥t Ä‘á»‹nh.</p>
<blockquote class="blockquote">
<p>Cáº£nh bÃ¡o: Nhá»¯ng giáº£ thiáº¿t sau Ä‘Ã£ lá»—i thá»i. Tuy váº­y, váº«n nhiá»u ná»™i dung hay vá» BN váº«n sá»­ dá»¥ng nhá»¯ng giáº£ thiáº¿t Ä‘Ã³ lÃ  lÃ½ do BN hiá»‡u quáº£. Hiá»‡n nay Ä‘Ã£ cÃ³ nhiá»u cÃ´ng trÃ¬nh thÃ¡ch thá»©c nhá»¯ng giáº£ thiáº¿t ban Ä‘áº§u.</p>
</blockquote>
<p>Trong vÃ i nÄƒm sau khi [1] phÃ¡t hÃ nh, cá»™ng Ä‘á»“ng há»c sÃ¢u giáº£i thÃ­ch tÃ­nh hiá»‡u quáº£ cá»§a BN nhÆ° sau:</p>
<p><strong>Giáº£ thiáº¿t 1</strong></p>
<blockquote class="blockquote">
<p>BN -&gt; Chuáº©n hoÃ¡ tÃ­n hiá»‡u cá»§a lá»›p áº©n -&gt; ThÃªm hai tham sá»‘ huáº¥n luyá»‡n Ä‘á»ƒ thay Ä‘á»•i phÃ¢n phá»‘i vÃ  táº­n dá»¥ng phi tuyáº¿n tÃ­nh -&gt; Huáº¥n luyá»‡n dá»… hÆ¡n</p>
</blockquote>
<p>Táº¡i Ä‘Ã¢y, chuáº©n hoÃ¡ (ğœ‡ = 0, Ïƒ = 1) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ giáº£i thÃ­ch táº¡i sao BN hiá»‡u quáº£. Giáº£ thiáº¿t nÃ y Ä‘Ã£ bá»‹ thÃ¡ch thá»©c (Ä‘á»c á»Ÿ pháº§n sau) vÃ  Ä‘Æ°á»£c thay tháº¿ bá»Ÿi giáº£ thiáº¿t tiáº¿p heo:</p>
<p><strong>Giáº£ thiáº¿t 2</strong></p>
<blockquote class="blockquote">
<p>BN -&gt; Chuáº©n hoÃ¡ tÃ­n hiá»‡u cá»§a lá»›p áº©n -&gt; Giáº£m sá»± phá»¥ thuá»™c láº«n nhau giá»¯a cÃ¡c lá»›p áº©n (theo gÃ³c nhÃ¬n vá» sá»± á»•n Ä‘á»‹nh cá»§a phÃ¢n phá»‘i) -&gt; Huáº¥n luyá»‡n dá»… hÆ¡n</p>
</blockquote>
<p>Sá»± khÃ¡c biá»‡t vá»›i giáº£ thiáº¿t 1 lÃ  nhá» nhÆ°ng láº¡i ráº¥t quan trá»ng. á» Ä‘Ã¢y, má»¥c tiÃªu cá»§a chuáº©n hoÃ¡ lÃ  Ä‘á»ƒ giáº£m Ä‘i sá»± phá»¥ thuá»™c láº«n nhau giá»¯a cÃ¡c lá»›p -&gt; optimizer cÃ³ thá»ƒ chá»n Ä‘Æ°á»£c phÃ¢n phá»‘i tá»‘i Æ°u báº±ng cÃ¡ch thay Ä‘á»•i hai tham sá»‘. HÃ£y xem xÃ©t giáº£ thiáº¿t nÃ y ká»¹ hÆ¡n.</p>
</section>
</section>
<section id="giáº£-thiáº¿t---bn-giáº£m-sá»±-phá»¥-thuá»™c-láº«n-nhau-trong-cÃ¡c-lá»›p-áº©n-khi-huáº¥n-luyá»‡n." class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="giáº£-thiáº¿t---bn-giáº£m-sá»±-phá»¥-thuá»™c-láº«n-nhau-trong-cÃ¡c-lá»›p-áº©n-khi-huáº¥n-luyá»‡n."><span class="header-section-number">3.2.2</span> Giáº£ thiáº¿t - BN giáº£m sá»± phá»¥ thuá»™c láº«n nhau trong cÃ¡c lá»›p áº©n khi huáº¥n luyá»‡n.</h3>
<p>Vá» pháº§n nÃ y: tÃ¡c giáº£ khÃ´ng thá»ƒ tÃ¬m tháº¥y báº±ng chá»©ng thuyáº¿t phá»¥c vá» giáº£ thiáº¿t nÃ y. Tháº¿ nÃªn, tÃ¡c giáº£ sáº½ dá»±a vÃ o giáº£i thÃ­ch cá»§a Ian Goodfellow: <a href="https://www.youtube.com/watch?v=Xogn6veSyxA&amp;ab_channel=Taro">YouTube</a></p>
<p>HÃ£y xem xÃ©t vÃ­ dá»¥ sau:</p>
<p align="center">
<img src="batchnorm/1_PjRlq0sMfVpZKMkFvzc6CA.webp" width="600px">
</p>
<p align="center">
HÃ¬nh 9: Má»™t DNN Ä‘Æ¡n giáº£n, chá»‰ bao gá»“m nhá»¯ng biáº¿n Ä‘á»•i tuyáº¿n tÃ­nh | Láº¥y cáº£m há»©ng tá»« Ian Goodfellow
</p>
<p>Trong Ä‘Ã³ (a), (b), (c), (d), (e) lÃ  nhá»¯ng lá»›p tuáº§n tá»± trong DNN. ÄÃ¢y lÃ  má»™t vÃ­ dá»¥ ráº¥t hÆ¡n giáº£n, chá»‰ bao gá»“m cÃ¡c lá»›p Ä‘Æ°á»£c liÃªn káº¿t vá»›i nhau báº±ng biáº¿n Ä‘á»•i tuyáº¿n tÃ­nh. Giáº£ sá»­ chÃºng ta muá»‘n huáº¥n luyá»‡n mÃ´ hÃ¬nh trÃªn báº±ng SGD.</p>
<p>Äá»ƒ cáº­p nháº­t trá»ng sá»‘ cá»§a lá»›p (a), chÃºng ta cáº§n tÃ­nh giÃ¡ trá»‹ Ä‘áº¡o hÃ m tá»« output cá»§a network nhÆ° sau:</p>
<p align="center">
<img src="batchnorm/1_uz4MGKFGA1HYB0XqSSGjBg.gif" width="400px">
</p>
<p>HÃ£y xem xÃ©t má»™t network khÃ´ng cÃ³ BNN. Tá»« phÆ°Æ¡ng trÃ¬nh á»Ÿ trÃªn, chÃºng ta káº¿t luáº­n ráº±ng náº¿u táº¥t cáº£ giÃ¡ trá»‹ Ä‘áº¡o hÃ m (gradient) lá»›n thÃ¬ Ä‘áº¡o hÃ m cá»§a a (grad(a)) sáº½ ráº¥t lá»›n. NgÆ°á»£c láº¡i, náº¿u táº¥t cáº£ gradient Ä‘á»u nhá» thÃ¬ grad(a) gáº§n nhÆ° báº±ng 0.</p>
<p>Dá»… dÃ ng tháº¥y ráº±ng cÃ¡c lá»›p phá»¥ thuá»™c vÃ o nhau nhÆ° tháº¿ nÃ o báº±ng cÃ¡ch nhÃ¬n vÃ o phÃ¢n phá»‘i tÃ­n hiá»‡u Ä‘áº§u vÃ o cá»§a nhá»¯ng lá»›p áº©n: má»™t sá»± thay Ä‘á»•i trong trá»ng sá»‘ cá»§a (a) sáº½ dáº«n Ä‘áº¿n thay Ä‘á»•i trá»ng sá»‘ cá»§a lá»›p (b) vÃ  tá»« tá»« Ä‘áº¿n (d) vÃ  cuá»‘i cÃ¹ng lÃ  (e). Sá»± phá»¥ thuá»™c láº«n nhau nÃ y gÃ¢y ra váº¥n Ä‘á» vá»›i Ä‘á»™ á»•n Ä‘á»‹nh khi huáº¥n luyá»‡n: <strong>Náº¿u ta muá»‘n thay Ä‘á»•i phÃ¢n phá»‘i Ä‘áº§u vÃ o cá»§a má»™t lá»›p áº©n nÃ o Ä‘Ã³, nÃ³ sáº½ dáº«n Ä‘áº¿n sá»± thay Ä‘á»•i cá»§a nhá»¯ng lá»›p theo sau.</strong></p>
<p>Tuy nhiÃªn, SGD chá»‰ quan tÃ¢m Ä‘áº¿n má»‘i liÃªn há»‡ báº­c 1 giá»¯a cÃ¡c lá»›p. NÃªn, nÃ³ khÃ´ng bao quÃ¡t Ä‘Æ°á»£c nhá»¯ng nhá»¯ng má»‘i quan há»‡ báº­c cao hÆ¡n nÃ³i á»Ÿ trÃªn.</p>
<p align="center">
<img src="batchnorm/1_i4zttMKhRAfArHL6_yvn_g.webp" width="600px">
</p>
<p align="center">
HÃ¬nh 10: BN Ä‘iá»u hoÃ¡ dÃ²ng cháº£y cá»§a tÃ­n hiá»‡u, báº±ng cÃ¡ch chuáº©n hoÃ¡ tÃ­n hiá»‡u trong má»—i hidden unit, vÃ  cho phÃ©p Ä‘iá»u chá»‰nh phÃ¢n phá»‘i vá»›i vÃ &nbsp;ğ›¾. BN nhÆ° lÃ  má»™t cÃ¡i van khiáº¿n viá»‡c Ä‘iá»u khiá»ƒn dÃ²ng cháº£y dá»… dÃ ng hÆ¡n á»Ÿ vÃ i chá»— mÃ  khÃ´ng lÃ m giáº£m kháº£ nÄƒng phá»©c táº¡p cá»§a mÃ´ hÃ¬nh. <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<p>ThÃªm lá»›p BN giÃºp giáº£m sá»± phá»¥ thuá»™c láº«n nhau giá»¯a cÃ¡c lá»›p (theo cÃ¡ch nhÃ¬n vá» sá»± á»•n Ä‘á»‹nh phÃ¢n phá»‘i) trong quÃ¡ trÃ¬nh huáº¥n luyá»‡n. <strong>BN nhÆ° má»™t cÃ¡i van nÆ°á»›c giÃºp giáº£m láº¡i dÃ²ng cháº£y, vá»›i hai tham sá»‘ ğ›½&nbsp;vÃ &nbsp;ğ›¾.</strong> MÃ  vÃ¬ tháº¿ nÃªn khÃ´ng cáº§n xem xÃ©t táº¥t cáº£ tham sá»‘ Ä‘á»ƒ hiá»ƒu vá» phÃ¢n phá»‘i trong cÃ¡c lá»›p áº©n.</p>
<blockquote class="blockquote">
<p>LÆ°u Ã½: Do cÃ³ BN, optimizer cÃ³ thá»ƒ thay Ä‘á»•i trá»ng sá»‘ máº¡nh hÆ¡n mÃ  khÃ´ng lÃ m suy thoÃ¡i cÃ¡c tham sá»‘ Ä‘Ã£ Ä‘Æ°á»£c Ä‘iá»u chá»‰nh trÆ°á»›c Ä‘Ã³ cá»§a lá»›p áº©n khÃ¡c. Äiá»u nÃ y khiáº¿n viá»‡c Ä‘iá»u chá»‰nh cÃ¡c siÃªu tham sá»‘ (hyperparameter) dá»… hÆ¡n ráº¥t nhiá»u!</p>
</blockquote>
<p>VÃ­ dá»¥ nÃ y bá» qua giáº£ thuyáº¿t cho ráº±ng hiá»‡u quáº£ cá»§a BN lÃ  do sá»± chuáº©n hÃ³a cá»§a phÃ¢n bá»‘ tÃ­n hiá»‡u giá»¯a cÃ¡c lá»›p (Î¼ = 0, Ïƒ = 1). á» Ä‘Ã¢y, BN cÃ³ má»¥c Ä‘Ã­ch lÃ m cho viá»‡c tá»‘i Æ°u hÃ³a tÃ¡c vá»¥ dá»… hÆ¡n, cho phÃ©p nÃ³ Ä‘iá»u chá»‰nh phÃ¢n bá»‘ lá»›p áº©n vá»›i chá»‰ hai tham sá»‘ má»™t lÃºc.</p>
<blockquote class="blockquote">
<p>Tuy nhiÃªn, hÃ£y nhá»› ráº±ng Ä‘iá»u nÃ y chá»§ yáº¿u lÃ  suy Ä‘oÃ¡n thÃ´i. Nhá»¯ng tháº£o luáº­n nÃ y nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° cÃ¡c kiáº¿n thá»©c Ä‘á»ƒ xÃ¢y dá»±ng sá»± hiá»ƒu biáº¿t vá» BN. ChÃºng ta váº«n khÃ´ng biáº¿t chÃ­nh xÃ¡c táº¡i sao BN hiá»‡u quáº£ trong thá»±c táº¿!</p>
</blockquote>
<p>NÄƒm 2019, má»™t nhÃ³m nghiÃªn cá»©u tá»« MIT thá»±c hiá»‡n vÃ i thÃ­ nghiá»‡m thÃº vá»‹ vá» BN [2]. Káº¿t quáº£ cá»§a há» Ä‘e dá»a lá»›n giáº£ thuyáº¿t 1 (váº«n Ä‘Æ°á»£c chia sáº» bá»Ÿi nhiá»u bÃ i viáº¿t blog vÃ  MOOCs!).</p>
<p>ChÃºng ta nÃªn xem qua tÃ i liá»‡u nÃ y náº¿u muá»‘n trÃ¡nh â€œgiáº£ thuyáº¿t Ä‘iá»ƒm tá»‘i thiá»ƒu Ä‘á»‹a phÆ°Æ¡ngâ€ vá» tÃ¡c Ä‘á»™ng cá»§a BN trÃªn huáº¥n luyá»‡nâ€¦ ;)</p>
<p align="center">
<img src="batchnorm/1_dsRT__3smf0_ORKoqiWTpQ.webp" width="600px">
</p>
<p align="center">
ÄÆ°á»£c rá»“iâ€¦ báº¡n nÃªn khá»Ÿi táº¡o tá»‘t hÆ¡n.
</p>
</section>
<section id="giáº£-thuyáº¿t-3---bn-lÃ m-cho-khÃ´ng-gian-tá»‘i-Æ°u-hÃ³a-trá»Ÿ-nÃªn-mÆ°á»£t-hÆ¡n" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="giáº£-thuyáº¿t-3---bn-lÃ m-cho-khÃ´ng-gian-tá»‘i-Æ°u-hÃ³a-trá»Ÿ-nÃªn-mÆ°á»£t-hÆ¡n"><span class="header-section-number">3.2.3</span> Giáº£ thuyáº¿t 3 - BN lÃ m cho khÃ´ng gian tá»‘i Æ°u hÃ³a trá»Ÿ nÃªn mÆ°á»£t hÆ¡n</h3>
<p>Vá» pháº§n nÃ y: TÃ¡c giáº£ Ä‘Ã£ tÃ³m táº¯t káº¿t quáº£ tá»« [2] mÃ  cÃ³ thá»ƒ giÃºp chÃºng ta xÃ¢y dá»±ng cÃ¡ch hiá»ƒu tá»‘t hÆ¡n vá» BN. TÃ¡c giáº£ khÃ´ng thá»ƒ tÃ³m táº¯t Ä‘áº§y Ä‘á»§, tÃ i liá»‡u nÃ y ráº¥t nhiá»u, tÃ¡c giáº£ Ä‘á» nghá»‹ báº¡n Ä‘á»c ká»¹ náº¿u báº¡n quan tÃ¢m Ä‘áº¿n nhá»¯ng khÃ¡i niá»‡m Ä‘Ã³.</p>
<p>HÃ£y Ä‘i tá»›i thÃ­ nghiá»‡m thá»© 2 cá»§a [2]. Má»¥c tiÃªu cá»§a há» lÃ  kiá»ƒm tra sá»± tÆ°Æ¡ng quan giá»¯a ICS vÃ  lá»£i Ã­ch cá»§a BN trÃªn hiá»‡u suáº¥t huáº¥n luyá»‡n (giáº£ thuyáº¿t 1).</p>
<p>KhÃ¡i niá»‡m: ChÃºng ta sáº½ gá»i covariate shift nÃ y lÃ  ICS_distrib.</p>
<p>Äá»ƒ lÃ m Ä‘iá»u Ä‘Ã³, nhÃ  nghiÃªn cá»©u Ä‘Ã£ huáº¥n luyá»‡n ba máº¡ng VGG (trÃªn CIFAR-10):</p>
<ul>
<li><p>Máº¡ng thá»© nháº¥t khÃ´ng cÃ³ báº¥t ká»³ lá»›p BN nÃ o;</p></li>
<li><p>Máº¡ng thá»© hai cÃ³ cÃ¡c lá»›p BN;</p></li>
<li><p>Máº¡ng thá»© ba tÆ°Æ¡ng tá»± nhÆ° máº¡ng thá»© hai, ngoáº¡i trá»« viá»‡c há» Ä‘Ã£ thÃªm má»™t sá»‘ ICS_distrib trong Ä‘Æ¡n vá»‹ áº©n trÆ°á»›c khi kÃ­ch hoáº¡t (báº±ng cÃ¡ch thÃªm khoáº£ng sai vÃ  biáº¿n thá»ƒ ngáº«u nhiÃªn).</p></li>
</ul>
<p>Há» Ä‘o lÆ°á»ng Ä‘á»™ chÃ­nh xÃ¡c Ä‘áº¡t Ä‘Æ°á»£c bá»Ÿi má»—i mÃ´ hÃ¬nh vÃ  sá»± thay Ä‘á»•i cá»§a giÃ¡ trá»‹ phÃ¢n bá»‘ theo sá»‘ láº§n láº·p. ÄÃ¢y lÃ  káº¿t quáº£ mÃ  há» Ä‘Ã£ nháº­n Ä‘Æ°á»£c:</p>
<p align="center">
<img src="batchnorm/1_MMX7fn4-q_cMG1CyLjUIjA.webp" width="600px">
</p>
<p align="center">
BN vá»›i ICS_distrib | CÃ¡c máº¡ng vá»›i BN Ä‘Æ°á»£c huáº¥n luyá»‡n nhanh hÆ¡n so vá»›i máº¡ng tiÃªu chuáº©n; thÃªm rÃµ rÃ ng ICS_distrib trÃªn má»™t máº¡ng Ä‘Æ°á»£c kiá»ƒm soÃ¡t khÃ´ng lÃ m giáº£m lá»£i Ã­ch cá»§a BN. | Nguá»“n: [2]
</p>
<p>ChÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng máº¡ng thá»© ba cÃ³ má»™t ICS ráº¥t cao (nhÆ° dá»± Ä‘oÃ¡n). Tuy nhiÃªn, <strong>máº¡ng bá»‹ nhiá»…u váº«n Ä‘Æ°á»£c huáº¥n luyá»‡n nhanh hÆ¡n so vá»›i máº¡ng tiÃªu chuáº©n.</strong> Káº¿t quáº£ Ä‘áº¡t Ä‘Æ°á»£c cá»§a nÃ³ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i káº¿t quáº£ Ä‘Æ°á»£c Ä‘áº¡t Ä‘Æ°á»£c vá»›i má»™t máº¡ng BN tiÃªu chuáº©n. Káº¿t quáº£ nÃ y cho tháº¥y ráº±ng <strong>hiá»‡u quáº£ cá»§a BN khÃ´ng liÃªn quan Ä‘áº¿n ICS_distrib.</strong></p>
<p>ChÃºng ta khÃ´ng nÃªn loáº¡i bá» giáº£ thuyáº¿t ICS quÃ¡ vá»™i: náº¿u hiá»‡u quáº£ cá»§a BN khÃ´ng xuáº¥t phÃ¡t tá»« ICS_distrib, <strong>nÃ³ cÃ³ thá»ƒ liÃªn quan Ä‘áº¿n má»™t Ä‘á»‹nh nghÄ©a khÃ¡c cá»§a ICS</strong>. Sau cÃ¹ng, sá»± giáº£ thuyáº¿t sá»‘ 1 cÅ©ng cÃ³ váº» Ä‘Ãºng, pháº£i khÃ´ng?</p>
<p>Váº¥n Ä‘á» chÃ­nh vá»›i ICS_distrib lÃ  Ä‘á»‹nh nghÄ©a cá»§a nÃ³ liÃªn quan Ä‘áº¿n phÃ¢n bá»‘ Ä‘áº§u vÃ o cá»§a cÃ¡c Ä‘Æ¡n vá»‹ áº©n. VÃ¬ váº­y, khÃ´ng cÃ³ liÃªn káº¿t trá»±c tiáº¿p vá»›i váº¥n Ä‘á» tá»‘i Æ°u hÃ³a cá»§a nÃ³.</p>
<p>TÃ¡c giáº£ cá»§a [2] Ä‘Ã£ Ä‘Æ°a ra má»™t Ä‘á»‹nh nghÄ©a khÃ¡c cá»§a ICS:</p>
<p>HÃ£y xem xÃ©t má»™t Ä‘áº§u vÃ o X cá»‘ Ä‘á»‹nh.</p>
<blockquote class="blockquote">
<p>ChÃºng ta Ä‘á»‹nh nghÄ©a ICS, tá»« má»™t gÃ³c nhÃ¬n cá»§a tá»‘i Æ°u hÃ³a, lÃ  sá»± khÃ¡c biá»‡t giá»¯a Ä‘áº¡o hÃ m tÃ­nh toÃ¡n trÃªn lá»›p áº©n k sau khi phá»¥c há»“i lá»—i <span class="math inline">\(L(X)_{it}\)</span> vÃ  Ä‘áº¡o hÃ m tÃ­nh toÃ¡n trÃªn cÃ¹ng má»™t lá»›p k tá»« máº¥t mÃ¡t <span class="math inline">\(L(X)_{it+1}\)</span> sau láº§n láº·p thá»© <span class="math inline">\(it\)</span></p>
</blockquote>
<p>Äá»‹nh nghÄ©a nÃ y nháº±m <strong>táº­p trung vÃ o cÃ¡c giÃ¡ trá»‹ Ä‘áº¡o hÃ m</strong> hÆ¡n lÃ  trÃªn phÃ¢n bá»‘ Ä‘áº§u vÃ o cá»§a lá»›p áº©n, giáº£ sá»­ ráº±ng nÃ³ cÃ³ thá»ƒ cho chÃºng ta cÃ¡c gá»£i Ã½ tá»‘t hÆ¡n vá» cÃ¡ch ICS cÃ³ thá»ƒ cÃ³ áº£nh hÆ°á»Ÿng Ä‘áº¿n <strong>váº¥n Ä‘á» tá»‘i Æ°u hÃ³a sÃ¢u bÃªn trong.</strong></p>
<p>KÃ½ hiá»‡u: ICS_opti bÃ¢y giá» Ä‘á» cáº­p Ä‘áº¿n ICS Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a tá»« má»™t gÃ³c Ä‘á»™ tá»‘i Æ°u hÃ³a.</p>
<p>Trong thÃ­ nghiá»‡m tiáº¿p theo, tÃ¡c giáº£ Ä‘Ã¡nh giÃ¡ tÃ¡c Ä‘á»™ng cá»§a ICS_opti trÃªn hiá»‡u quáº£ huáº¥n luyá»‡n. Äá»ƒ lÃ m nhÆ° váº­y, há» Ä‘o lÆ°á»ng sá»± biáº¿n Ä‘á»•i cá»§a ICS_opti trong quÃ¡ trÃ¬nh huáº¥n luyá»‡n cho má»™t DNN vá»›i cÃ³ vÃ  khÃ´ng cÃ³ BN layers. Äá»ƒ Ä‘á»‹nh lÆ°á»£ng sá»± biáº¿n Ä‘á»•i cá»§a Ä‘áº¡o hÃ m Ä‘Æ°á»£c nÃªu trong Ä‘á»‹nh nghÄ©a ICS_opti, há» tÃ­nh toÃ¡n:</p>
<ul>
<li><p>Sá»± khÃ¡c biá»‡t L2: cÃ³ Ä‘áº¡o hÃ m cÃ³ norm gáº§n nhau trÆ°á»›c vÃ  sau khi cáº­p nháº­t trá»ng sá»‘ khÃ´ng? LÃ½ tÆ°á»Ÿng: 0</p></li>
<li><p>GÃ³c Cosine: cÃ³ Ä‘áº¡o hÃ m cÃ³ hÆ°á»›ng gáº§n nhau trÆ°á»›c vÃ  sau khi cáº­p nháº­t trá»ng sá»‘ khÃ´ng? LÃ½ tÆ°á»Ÿng: 1</p></li>
</ul>
<p align="center">
<img src="batchnorm/1_h8ColkG0OCM_I0Ykddm6Cw.webp" width="600px">
</p>
<p align="center">
áº¢nh hÆ°á»Ÿng cá»§a BN lÃªn ICS_opti | Khoáº£ng cÃ¡ch L2 vÃ  gÃ³c cosine gá»£i Ã½ ráº±ng BN khÃ´ng trÃ¡nh Ä‘Æ°á»£c ICS_opti (ngÆ°á»£c láº¡i, nÃ³ cÃ²n lÃ m gia tÄƒng Ä‘iá»u Ä‘Ã³) | Nguá»“n: [2]
</p>
<p>Káº¿t quáº£ láº¡i chÃºt báº¥t ngá»: máº¡ng sá»­ dá»¥ng <strong>BN cÃ³ váº» cÃ³ ICS_opti cao hÆ¡n so vá»›i máº¡ng tiÃªu chuáº©n</strong>. HÃ£y nhá»› ráº±ng máº¡ng vá»›i BN (Ä‘Æ°á»ng xanh) Ä‘Æ°á»£c huáº¥n luyá»‡n nhanh hÆ¡n so vá»›i máº¡ng tiÃªu chuáº©n (Ä‘Æ°á»ng Ä‘á»)!</p>
<p>ICS cÃ³ váº» khÃ´ng liÃªn quan Ä‘áº¿n hiá»‡u quáº£ huáº¥n luyá»‡nâ€¦ Ã­t nháº¥t lÃ  cho Ä‘á»‹nh nghÄ©a ICS_opti.</p>
<p>Má»™t cÃ¡ch nÃ o Ä‘Ã³, Batch Normalization cÃ³ <strong>áº£nh hÆ°á»Ÿng khÃ¡c trÃªn mÃ´ hÃ¬nh</strong>, giÃºp cho viá»‡c há»™i tá»¥ dá»… dÃ ng hÆ¡n.</p>
<p>BÃ¢y giá», hÃ£y xem xÃ©t <strong>cÃ¡ch BN áº£nh hÆ°á»Ÿng Ä‘áº¿n cáº£nh quan tá»‘i Æ°u hÃ³a (optimization landscape)</strong> Ä‘á»ƒ tÃ¬m theo manh má»‘i nhÃ©.</p>
<p>Tiáº¿p theo lÃ  thÃ­ nghiá»‡m cuá»‘i cÃ¹ng Ä‘Æ°á»£c Ä‘á» cáº­p trong bÃ i viáº¿t nÃ y:</p>
<p align="center">
<img src="batchnorm/1_ZJLWWgpDxsQpp1mBK4SxwA.webp" width="600px">
</p>
<p align="center">
KhÃ¡m phÃ¡ cáº£nh quan tá»‘i Æ°u hoÃ¡ (Optimization landscape exploration) theo hÆ°á»›ng Ä‘áº¡o hÃ m. ThÃ­ nghiá»‡m Ä‘Æ°á»£c thá»±c hiá»‡n trong paper [2] | Cáº£m há»©ng tá»«: <a href="https://www.microsoft.com/en-us/research/video/how-does-batch-normalization-help-optimization/">Andrew Ilyas</a> - thiáº¿t káº¿ bá»Ÿi: <a href="https://www.instagram.com/louhacquetdelepine/">Lou HD</a>
</p>
<p>Tá»« má»™t giÃ¡ trá»‹ Ä‘áº¡o hÃ m, chÃºng ta cáº­p nháº­t trá»ng sá»‘ vá»›i cÃ¡c <strong>bÆ°á»›c tá»‘i Æ°u hÃ³a</strong> khÃ¡c nhau (mÃ  hoáº¡t Ä‘á»™ng nhÆ° tá»‘c Ä‘á»™ há»c - learning rate). NÃ³i má»™t cÃ¡ch trá»±c quan, chÃºng ta Ä‘á»‹nh nghÄ©a má»™t hÆ°á»›ng tá»« má»™t Ä‘iá»ƒm nháº¥t Ä‘á»‹nh (tá»©c má»™t cáº¥u hÃ¬nh máº¡ng Ï‰) trong khÃ´ng gian Ä‘áº·c trÆ°ng, sau Ä‘Ã³ <strong>khÃ¡m phÃ¡ thÃªm cáº£nh quan tá»‘i Æ°u hÃ³a theo hÆ°á»›ng nÃ y.</strong></p>
<p>Táº¡i má»—i bÆ°á»›c, chÃºng ta Ä‘o lÆ°á»ng <strong>Ä‘áº¡o hÃ m</strong> vÃ  <strong>máº¥t mÃ¡t</strong> (loss). ChÃºng ta cÃ³ thá»ƒ so sÃ¡nh cÃ¡c Ä‘iá»ƒm khÃ¡c nhau cá»§a cáº£nh quan tá»‘i Æ°u hÃ³a vá»›i má»™t Ä‘iá»ƒm báº¯t Ä‘áº§u. Náº¿u chÃºng ta Ä‘o lÆ°á»ng sá»± biáº¿n Ä‘á»•i lá»›n, <strong>cáº£nh quan ráº¥t khÃ´ng á»•n Ä‘á»‹nh</strong> vÃ  Ä‘áº¡o hÃ m khÃ´ng cháº¯c cháº¯n: cÃ¡c bÆ°á»›c lá»›n cÃ³ thá»ƒ lÃ m xáº¥u viá»‡c tá»‘i Æ°u hÃ³a. NgÆ°á»£c láº¡i, náº¿u sá»± biáº¿n Ä‘á»•i Ä‘o Ä‘Æ°á»£c nhá», <strong>cáº£nh quan á»•n Ä‘á»‹nh</strong> vÃ  Ä‘áº¡o hÃ m Ä‘Ã¡ng tin cáº­y: <strong>chÃºng ta cÃ³ thá»ƒ Ã¡p dá»¥ng cÃ¡c bÆ°á»›c lá»›n hÆ¡n mÃ  khÃ´ng gÃ¢y háº¡i cho tá»‘i Æ°u hÃ³a</strong>. NÃ³i cÃ¡ch khÃ¡c, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng má»™t <strong>tá»‘c Ä‘á»™ há»c lá»›n hÆ¡n</strong> vÃ  lÃ m cho viá»‡c <strong>há»™i tá»¥ nhanh hÆ¡n</strong> (má»™t tÃ­nh nÄƒng Ä‘Æ°á»£c biáº¿t Ä‘áº¿n cá»§a BN).</p>
<p>HÃ£y xem káº¿t quáº£:</p>
<p align="center">
<img src="batchnorm/1_mUd9NnIbovywfaqPFU77rw.webp" width="600px">
</p>
<p align="center">
</p><p>TÃ¡c Ä‘á»™ng cá»§a BN lÃªn viá»‡c lÃ m mÆ°á»£t cáº£nh quan tá»‘i Æ°u hoÃ¡ (optimization landscape smoothing) | BN lÃ m giáº£m thiá»ƒu Ä‘Ã¡ng káº¿ sá»± biáº¿n Ä‘á»™ng cá»§a Ä‘áº¡o hÃ m | Nguá»“n: [2]</p>
<p>RÃµ tháº¥y ráº±ng cáº£nh quan tá»‘i Æ°u hoÃ¡ mÆ°á»£t hÆ¡n nhiá»u khi dÃ¹ng cÃ¡c lá»›p BN.</p>
<p>Cuá»‘i chÃ¹ng chÃºng ta cÃ³ káº¿t quáº£ Ä‘á»ƒ dÃ¹ng Ä‘á»ƒ giáº£i thÃ­ch sá»± hiá»‡u quáº£ cá»§a BN: Lá»›p BN lÃ m cho cáº£nh quan tá»‘i Æ°u hoÃ¡ mÆ°á»£t hÆ¡n. Tá»« Ä‘Ã³ thÃ¬ viá»‡c tá»‘i Æ°u hoÃ¡ cÅ©ng dá»… dÃ ng hÆ¡n: chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng tá»‘c Ä‘á»™ há»c cao hÆ¡n mÃ  khÃ´ng bá»‹ gradient vanishing hoáº·c gradient explosion.</p>
<p>Giáº£ thiáº¿t thá»© 3 thÃ¬ Ä‘áº¿n tá»« bÃ i bÃ¡o [2]:</p>
</section>
<section id="gá»‰a-thiáº¿t-3" class="level3" data-number="3.2.4">
<h3 data-number="3.2.4" class="anchored" data-anchor-id="gá»‰a-thiáº¿t-3"><span class="header-section-number">3.2.4</span> Gá»‰a thiáº¿t 3</h3>
<p>BN -&gt; chuáº©n hoÃ¡ tÃ­n hiá»‡u trong cÃ¡c Ä‘Æ¡n vá»‹ áº©n -&gt; <strong>lÃ m mÆ°á»£t cáº£nh quan tá»‘i Æ°u hoÃ¡</strong> -&gt; huáº¥n luyá»‡n nhanh vÃ  á»•n Ä‘á»‹nh hÆ¡n.</p>
<p>NÃ³ Ä‘áº·t ra má»™t cÃ¢u há»i khÃ¡c:** LÃ m sao mÃ  BN láº¡i lÃ m cho cáº£nh quan tá»‘i Æ°u hoÃ¡ mÆ°á»£t hÆ¡n?**</p>
<p>TÃ¡c giáº£ cá»§a [2] Ä‘Ã£ khÃ¡m nhá»¯ng váº¥n Ä‘á» nÃ y tá»« gÃ³c nhÃ¬n lÃ½ thuyá»‡t. NghiÃªn cá»©u cá»§a há» ráº¥t cÃ³ Ã­ch trong viá»‡c hiá»ƒu Ä‘Æ°á»£c hiá»‡u á»©ng lÃ m mÆ°á»£t cá»§a BN. Chi tiáº¿t hÆ¡n, há» chá»©ng minh ráº±ng BN lÃ m cho cáº£nh quan tá»‘i Æ°u mÆ°á»£t hÆ¡n trong khi <strong>váº«n giá»¯ táº¥t cáº£ cÃ¡c cá»±c tiá»ƒu cá»§a cáº£nh quan thÆ°á»ng</strong>. NÃ³i cÃ¡ch khÃ¡c, <strong>BN thay Ä‘á»•i tham sá»‘ cá»§a bÃ i toÃ¡n tá»‘i Æ°u phÃ­a dÆ°á»›i, lÃ m cho huáº¥n luyá»‡n nhanh vÃ  dá»… hÆ¡n!</strong></p>
<p>Trong nhá»¯ng nghiÃªn cá»©u bá»• sung, tÃ¡c giáº£ cá»§a [2] quan sÃ¡t ráº±ng hiá»‡u á»©ng nÃ y khÃ´ng chá»‰ cÃ³ á»Ÿ BN. Há» Ä‘áº¡t Ä‘Æ°á»£c hiá»‡u nÄƒng huáº¥n luyá»‡n tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i phÆ°Æ¡ng phÃ¡p tá»‘i Æ°u khÃ¡c nhÆ° L1 hay L2. Nhá»¯ng quan sÃ¡t nÃ y gá»£i Ã½ ráº±ng sá»± hiá»‡u quáº£ cá»§a BN pháº§n lá»›n Ä‘áº¿n tá»« sá»± trÃ¹ng há»£p, do táº­n dá»¥ng má»™t cÆ¡ cháº¿ táº§ng dÆ°á»›i nÃ o Ä‘Ã³ mÃ  chÃºng ta chÆ°a nháº­n dáº¡ng chÃ­nh xÃ¡c Ä‘Æ°á»£c.</p>
<p>Äá»ƒ káº¿t thÃºc pháº§n nÃ y, bÃ i bÃ¡o nÃ y thÃ¡ch thá»©c cá»±c máº¡nh Ã½ tÆ°á»Ÿng ráº±ng BN hiá»‡u quáº£ vÃ¬ Ä‘Ã³ giáº£m thiá»ƒu ICS (cáº£ trong gÃ³c nhÃ¬n vá» sá»± á»•n Ä‘á»‹nh cá»§a phÃ¢n phá»‘i vÃ  cáº£ vá» tá»‘i Æ°u hoÃ¡). Tuy nhiÃªn, nÃ³ láº¡i nháº¥n máº¡nh vá» áº£nh hÆ°á»Ÿng cá»§a sá»± lÃ m mÆ°á»£t cáº£nh quan tá»‘i Æ°u cá»§a BN.</p>
<p>Tuy ráº±ng bÃ i bÃ¡o nÃ y Ä‘Æ°a ra giáº£ thiáº¿t vá» áº£nh hÆ°á»Ÿng cá»§a BN lÃªn tá»‘c Ä‘á»™ huáº¥n luyá»‡n, nhÆ°ng nÃ³ khÃ´ng tráº£ lá»i táº¡i sao BN láº¡i há»— trá»£ tá»‘t cho quÃ¡ trÃ¬nh tá»•ng quÃ¡t hoÃ¡.</p>
<p>Há» cÃ³ tháº£o luáº­n nhanh ráº±ng lÃ m cho cáº£nh quan tá»‘i Æ°u hoÃ¡ mÆ°á»£t hÆ¡n cÅ©ng giÃºp mÃ´ hÃ¬nh há»™i tá»¥ á»Ÿ cÃ¡c cá»±c tiá»ƒu pháº³ng -&gt; lÃ m cho kháº£ nÄƒng tá»•ng quÃ¡t hoÃ¡ tá»‘t hÆ¡n. Tuy nhiÃªn, nháº­n Ä‘á»‹nh nÃ y váº«n cáº§n thÃªm nhiá»u giáº£i thÃ­ch hÆ¡n.</p>
<p>ÄÃ³ng gÃ³p chá»§ yáº¿u cá»§a tÃ¡c giáº£ lÃ  thÃ¡ch thá»©c Ã½ tÆ°á»Ÿng vá» sá»± áº£nh hÆ°á»Ÿng cá»§a BN lÃªn ICS - váº­y thÃ´i cÅ©ng Ä‘á»§ quan trá»ng rá»“i!</p>
</section>
</section>
<section id="tá»•ng-há»£p-nhá»¯ng-lÃ½-do-cho-sá»±-hiá»‡u-quáº£-cá»§a-bn-mÃ -chÃºng-ta-biáº¿t" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="tá»•ng-há»£p-nhá»¯ng-lÃ½-do-cho-sá»±-hiá»‡u-quáº£-cá»§a-bn-mÃ -chÃºng-ta-biáº¿t"><span class="header-section-number">3.3</span> Tá»•ng há»£p: Nhá»¯ng lÃ½ do cho sá»± hiá»‡u quáº£ cá»§a BN mÃ  chÃºng ta biáº¿t</h2>
<ul>
<li><p>Giáº£ thiáº¿t 1: BN lÃ m giáº£m ICS -&gt; <strong>Sai:</strong> bÃ i bÃ¡o [2] chá»©ng minh ráº±ng <strong>khÃ´ng cÃ³ sá»± tÆ°Æ¡ng quan</strong> giá»¯a ICS vÃ  hiá»‡u nÄƒng huáº¥n luyá»‡n trong thá»±c táº¿.</p></li>
<li><p>Giáº£ thiáº¿t 2: BN lÃ m cho optimizer tá»‘i Æ°u nhanh hÆ¡n vÃ¬ nÃ³ thay Ä‘á»•i phÃ¢n phá»‘i Ä‘áº§u vÃ o cá»§a Ä‘Æ¡n vá»‹ áº©n chá»‰ báº±ng 2 tham sá»‘ -&gt; <strong>CÃ³ thá»ƒ:</strong> Giáº£ thiáº¿t nÃ y nháº¥n máº¡nh sá»± liÃªn quan chÃ©o giá»¯a cÃ¡c tham sá»‘ khiáº¿n tá»‘i Æ°u khÃ³ hÆ¡n. Tuy váº­y, nÃ³ váº«n <strong>chÆ°a Ä‘á»§ thuyáº¿t phá»¥c.</strong></p></li>
<li><p>Giáº£ thiáº¿t 3: BN thay Ä‘á»•i tham sá»‘ cá»§a bÃ i toÃ¡n tá»‘i Æ°u táº§ng sÃ¢u, lÃ m nÃ³ mÆ°á»£t vÃ  á»•n Ä‘á»‹nh hÆ¡n. -&gt; <strong>CÃ³ thá»ƒ:</strong> Káº¿t quáº£ cÅ©ng khÃ¡ gáº§n Ä‘Ã¢y. Äáº¿n thá»i Ä‘iá»ƒm cá»§a bÃ i viáº¿t gá»‘c thÃ¬ dÆ°á»ng nhÆ° giáº£ thuyáº¿t nÃ y chÆ°a bá»‹ thÃ¡ch thá»©c. BÃ i bÃ¡o cÅ©ng Ä‘Æ°a ra nhá»¯ng thÃ­ nghiá»‡m thá»±c táº¿ cÅ©ng nhÆ° giáº£i thÃ­ch vá» lÃ½ thuyáº¿t, tuy váº«n chÆ°a tráº£ lá»i má»™t sá»‘ <strong>cÃ¢u há»i ná»n táº£ng</strong> nhÆ° â€œtáº¡i sao BN láº¡i há»— trá»£ tá»•ng quÃ¡t hoÃ¡?â€</p></li>
</ul>
<p><strong>Tháº£o luáº­n:</strong> Äá»‘i vá»›i tÃ¡c giáº£ cá»§a bÃ i viáº¿t nÃ y, hai giáº£ thiáº¿t cuá»‘i cÃ³ vÃ¨ tÆ°Æ¡ng thÃ­ch. Vá» trá»±c quan thÃ¬ chÃºng ta tháº¥y giáº£ thiáº¿t 2 nhÆ° má»™t phÃ©p chiáº¿u tá»« bÃ i toÃ¡n nhiá»u tham sá»‘ thÃ nh bÃ i toÃ¡n Ã­t tham sá»‘ hÆ¡n; kiá»ƒu nhÆ° bÃ i toÃ¡n giáº£m chiá»u dá»¯ liá»‡u, Ä‘iá»u cÃ³ thá»ƒ há»— trá»£ cho tá»•ng quÃ¡t hoÃ¡. Báº¡n nghÄ© gÃ¬ vá» Ä‘iá»u nÃ y?</p>
<p>Váº«n cÃ²n nhiá»u nhá»¯ng cÃ¢u há»i má»Ÿ vÃ  BN váº«n lÃ  má»™t chá»§ Ä‘á» nghiÃªn cá»©u ngÃ y nay. Tháº£o luáº­n nhá»¯ng giáº£ thiáº¿t nÃ y váº«n giÃºp ta hiá»ƒu hÆ¡n vá» phÆ°Æ¡ng phÃ¡p thÆ°á»ng dÃ¹ng nÃ y, vÃ  bá» qua nhá»¯ng nháº­n Ä‘á»‹nh sai láº§m trong nhá»¯ng nÄƒm gáº§n Ä‘Ã¢y.</p>
<p>Tuy váº­y, nhá»¯ng cÃ¢u há»i nÃ y khÃ´ng thá»ƒ ngÄƒn cáº£n chÃºng ta táº­n dá»¥ng lá»£i Ã­ch mÃ  BN Ä‘em láº¡i trong thá»±c táº¿!</p>
</section>
</section>
<section id="káº¿t-luáº­n" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Káº¿t luáº­n</h1>
<p><strong>Batch Normalization</strong> (BN) lÃ  <strong>má»™t nhá»¯ng nhá»¯ng bÆ°á»›c tiáº¿n quan trá»ng nháº¥t</strong> trong lÄ©nh vá»±c há»c sÃ¢u trong thá»i gian gáº§n Ä‘Ã¢y. Báº±ng cÃ¡ch sá»­ dá»¥ng hai phÃ©p biáº¿n Ä‘á»•i tuyáº¿n tÃ­nh liá»n nhau, phÆ°Æ¡ng phÃ¡p nÃ y viá»‡c <strong>huáº¥n luyá»‡n DNN nhanh vÃ  á»•n Ä‘á»‹nh hÆ¡n.</strong></p>
<p>Giáº£ thiáº¿t Ä‘Æ°á»£c cháº¥p nháº­n rá»™ng rÃ£i nháº¥t vá» táº¡i sao BN hiá»‡u quáº£ lÃ  do nÃ³ giáº£m thiá»ƒu sá»± phá»¥ thuá»™c láº«n nhau giá»¯a cÃ¡c lá»›p áº©n khi huáº¥n luyá»‡n. Tuy nhiÃªn, sá»± áº£nh hÆ°á»Ÿng cá»§a phÃ©p biáº¿n Ä‘á»•i Ä‘á»ƒ chuáº©n hoÃ¡ lÃªn Ä‘á»™ mÆ°á»£t cá»§a cáº£nh quan tá»‘i Æ°u hoÃ¡ cÃ³ váº» má»›i lÃ  cÆ¡ cháº¿ quan trá»ng Ä‘em Ä‘áº¿n sá»± hiá»‡u quáº£ cho BNN.</p>
<p>BN cÅ©ng Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c DNN phá»• biáº¿n hiá»‡n nay nhÆ° ResNet [4] hay EfficientNet [5], v.v</p>
<p>Náº¿u báº¡n cÃ³ há»©ng thÃº vá»›i Há»c sÃ¢u, thÃ¬ phÆ°Æ¡ng phÃ¡p nÃ y lÃ  khÃ´ng thá»ƒ bá» qua.</p>
<section id="cÃ¢u-há»i-má»Ÿ" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="cÃ¢u-há»i-má»Ÿ"><span class="header-section-number">4.1</span> CÃ¢u há»i má»Ÿ</h2>
<p>DÃ¹ ráº±ng BN ráº¥t hiá»ƒu qua trong thá»±c nghiá»‡m, váº«n cÃ²n tá»“n táº¡i nhiá»u cÃ¢u há»i vá» cÃ¡ch thá»©c hoáº¡t Ä‘á»™ng phÃ­a sau cá»§a nÃ³ mÃ  chÆ°a cÃ³ lá»i giáº£i.</p>
<p>Sau lÃ  danh sÃ¡ch (khÃ´ng Ä‘áº§y Ä‘á»§):</p>
<ul>
<li><p>Táº¡i sao BN láº¡i há»— trá»£ quÃ¡ trÃ¬nh tá»•ng quÃ¡t hoÃ¡?</p></li>
<li><p>BN cÃ³ pháº£i lÃ  phÆ°Æ¡ng phÃ¡p chuáº©n hoÃ¡ tá»‘t nháº¥t cho tá»‘i Æ°u hoÃ¡?</p></li>
<li><p>ğ›½ vÃ  ğ›¾ áº£nh hÆ°á»Ÿng nhÆ° tháº¿ nÃ o Ä‘áº¿n sá»± mÆ°á»£t cá»§a cáº£nh quan tá»‘i Æ°u?</p></li>
<li><p>Thá»±c nghiá»‡m trong bÃ i [2] vá» cáº£nh quan tá»‘i Æ°u hoÃ¡ táº­p trung vá» tÃ¡c Ä‘á»™ng ngáº¯n háº¡n cá»§a BN lÃªn Ä‘áº¡o hÃ m: há» Ä‘o lÆ°á»ng sá»± biáº¿n Ä‘á»•i cá»§a gradient vÃ  loss trong má»™t láº§n láº·p duy nháº¥t, vá»›i sá»‘ lÆ°á»£ng bÆ°á»›c khÃ¡c nhau. Váº­y BN sáº½ áº£nh hÆ°á»Ÿng lÃªn gradient trong dÃ i háº¡n nhÆ° tháº¿ nÃ o? Liá»‡u sá»± phá»¥ thuá»™c láº«n nhau giá»¯a cÃ¡c trá»ng sá»‘ cÃ³ áº£nh hÆ°á»Ÿng nÃ o Ä‘áº¿n cáº£nh quan tá»‘i Æ°u hoÃ¡?</p></li>
</ul>
</section>
</section>
<section id="tÃ i-liá»‡u-tham-kháº£o" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> TÃ i liá»‡u tham kháº£o</h1>
<p>[1] Ioffe, S., &amp; Szegedy, C. (2015). Batch normalization: Accelerating deep network training by reducing internal covariate shift, arXiv preprint arXiv:1502.03167.</p>
<p>[2] Santurkar, S., Tsipras, D., Ilyas, A., &amp; Madry, A. (2018). How does batch normalization help optimization?, Advances in Neural Information Processing Systems</p>
<p>[3] Szegedy, C., Liu, W., Jia, Y., Sermanet, P., Reed, S., Anguelov, D., â€¦ &amp; Rabinovich, A. (2015). Going deeper with convolutions, Proceedings of the IEEE conference on computer vision and pattern recognition</p>
<p>[4] He, K., Zhang, X., Ren, S., &amp; Sun, J. (2016). Deep residual learning for image recognition. In Proceedings of the IEEE conference on computer vision and pattern recognition</p>
<p>[5] Tan, M., &amp; Le, Q. V. (2019). Efficientnet: Rethinking model scaling for convolutional neural networks, arXiv preprint arXiv:1905.11946.</p>
<p>[6] Goodfellow, I., Pouget-Abadie, J., Mirza, M., Xu, B., Warde-Farley, D., Ozair, S., Courville, A. Bengio, Y. (2014), Generative adversarial nets, Advances in neural information processing systems</p>
</section>
<section id="hÆ¡n-ná»¯a" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> HÆ¡n ná»¯a</h1>
<ul>
<li><p>BÃ i giáº£ng xuáº¥t sáº¯c cá»§a cá»§a Ian Fellow vá» Batch Normalization: <a href="https://www.youtube.com/watch?v=Xogn6veSyxA">Link</a></p></li>
<li><p>BÃ i thuyáº¿t trÃ¬nh cá»§a bÃ i bÃ¡o [2] bá»Ÿi má»™t trong nhá»¯ng tÃ¡c gá»‰a. KhÃ¡n giáº£ cÃ³ nhiá»u cÃ¢u há»i sáº¯c bÃ©n vá» BN: <a href="https://www.microsoft.com/en-us/research/video/how-does-batch-normalization-help-optimization/">Link</a></p></li>
<li><p>NÃªn Ä‘á»ƒ BN sau hay trÆ°á»›c hÃ m kÃ­ch hoáº¡t? -&gt; <a href="https://stackoverflow.com/questions/39691902/ordering-of-batch-normalization-and-dropout">Stackoverflow</a></p></li>
<li><p>NÃªn Ä‘á»ƒ BN sau hay trÆ°á»›c hÃ m kÃ­ch hoáº¡t? -&gt; <a href="https://www.reddit.com/r/MachineLearning/comments/67gonq/d_batch_normalization_before_or_after_relu/dgqaksn/">Reddit</a></p></li>
</ul>



</section>

<div class="quarto-listing quarto-listing-container-default" id="listing-listing">
<div class="list quarto-listing-default">

</div>
<div class="listing-no-matching d-none">
No matching items
</div>
</div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="lukanguyen277/lukablog-quarto" data-repo-id="R_kgDOIwur-A" data-category="General" data-category-id="DIC_kwDOIwur-M4CTiqF" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>